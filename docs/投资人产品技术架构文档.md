# TableSync · Daily Nourish — 产品与技术架构全景文档

> **版本**: v3.0 · 2026年2月（战略增强 + 游戏化增长引擎）  
> **定位**: 面向投资人的产品结构、数据架构与技术能力全景分析  
> **产品形态**: 微信小程序（WeChat Mini Program）  
> **Slogan**: Eat. Connect. Automate.

---

## 目录

1. [产品概述与愿景](#1-产品概述与愿景)
2. [核心用户画像](#2-核心用户画像)
3. [产品功能全景图](#3-产品功能全景图)
4. [用户旅程与核心流程](#4-用户旅程与核心流程)
5. [技术架构总览](#5-技术架构总览)
6. [数据架构与模型](#6-数据架构与模型)
7. [AI 能力矩阵](#7-ai-能力矩阵)
8. [核心算法深度解析](#8-核心算法深度解析)
   - 8.2.2 设备冲突检测与智能调解 ★
   - 8.2.3 效率对比：顺序执行 vs 并行优化 ★
   - 8.5 虚拟冰箱镜像 — 食材生命周期闭环 ★
9. [UI/UX 设计体系](#9-uiux-设计体系)
10. [云端基础设施](#10-云端基础设施)
11. [竞争优势分析（SWOT）](#11-竞争优势分析swot)
    - 11.2 劣势与预防性策略 + OpenID 静默画像 ★
12. [技术壁垒与护城河](#12-技术壁垒与护城河)
13. [可扩展性与增长路径](#13-可扩展性与增长路径)
    - 13.1.1 厨房看板同步 — 家庭协作 SaaS ★
    - 13.2 四层变现飞轮 (含品牌食材库/情绪资产) ★
14. [附录：技术规格表](#14-附录技术规格表)
15. ["烟火集" — 游戏化增长引擎与情绪经济体系](#15-烟火集--游戏化增长引擎与情绪经济体系) ★★
    - 15.2 盲盒式贴纸掉落 (稀有度金字塔)
    - 15.3 冰箱贴风格日历看板
    - 15.4 段位与勋章体系
    - 15.5 味道年报 / 食愈处方 / 节气厨房 / 地域限定
    - 15.6 三驾马车变现 (审美付费/品牌联名/社交裂变)
    - 15.7 技术实现方案 (动态资产层/AI贴纸引擎/元数据模型)
    - 15.8 四阶段落地路线图 (Phase A→D)
    - 15.9 投资人核心论述

> ★ v2.0 战略增强内容 &nbsp; ★★ v3.0 游戏化增长引擎

---

## 1. 产品概述与愿景

### 1.1 产品定义

**TableSync（家庭餐桌智能助手）** 是一款基于 AI 的家庭餐饮全流程管理微信小程序，覆盖从「今天吃什么」的决策困扰，到「买什么菜」的购物清单，再到「怎么做」的分步烹饪指导的完整链路。

### 1.2 解决的核心痛点

| 痛点 | 解决方案 |
|------|----------|
| 🤔 每天纠结「吃什么」 | AI 智能菜单生成 + 转盘趣味交互 |
| 🛒 买菜不知道买多少 | 智能购物清单（按人数动态缩放） |
| 👶 宝宝辅食和大人菜怎么兼顾 | 一键生成成人+宝宝双份菜谱 |
| ⏱ 多菜同做手忙脚乱 | 并行烹饪流水线调度算法 |
| 🧊 冰箱食材不知道做什么 | AI 视觉识别 + 智能配菜推荐 |
| 📱 看到好菜谱想收藏 | 截图/链接一键导入结构化菜谱 |

### 1.3 产品愿景

> 让每个家庭的餐桌，都能享受到科学营养搭配、高效并行烹饪、AI 智能推荐的专业级美食体验。

---

## 2. 核心用户画像

### 2.1 主要用户群体

| 用户类型 | 特征 | 核心需求 |
|----------|------|----------|
| **新手父母** (25-35岁) | 有6-36月龄宝宝，关注辅食营养 | 成人+宝宝一体化菜谱，过敏原管理 |
| **职场新手厨师** (22-30岁) | 工作忙碌，烹饪经验有限 | 快手菜推荐，分步教学，购物清单 |
| **家庭主厨** (30-45岁) | 日常为全家做饭，追求效率和营养均衡 | 多菜并行调度，荤素搭配，省时方案 |
| **美食爱好者** (全年龄) | 喜欢收集菜谱，尝试新菜 | 跨平台菜谱导入，个人菜谱库管理 |

### 2.2 使用场景

- **日常场景**: 每天下午4-5点，决定晚餐吃什么 → 生成菜单 → 去超市买菜 → 照着步骤做饭
- **周末场景**: 想给家人做顿好的 → 组合多道菜 → 并行烹饪流水线优化
- **冰箱清理**: 食材快过期 → 拍照识别 → AI 推荐最优菜品组合
- **灵感收集**: 刷到好菜谱 → 截图/链接导入 → 结构化保存 → 随时开做

---

## 3. 产品功能全景图

### 3.1 功能架构（10大页面模块）

```
┌─────────────────────────────────────────────────────────────┐
│                    TableSync 功能架构                         │
├─────────────────────────────────────────────────────────────┤
│                                                              │
│  ┌──────────┐   ┌──────────┐   ┌──────────┐                │
│  │  🏠 首页  │   │ 📷 扫冰箱 │   │ 🔗 导入  │                │
│  │  Home    │   │  Scan    │   │  Import  │                 │
│  │ ·天气感知 │   │ ·多图上传 │   │ ·链接导入 │                │
│  │ ·智能问候 │   │ ·AI识别  │   │ ·截图识别 │                │
│  │ ·功能入口 │   │ ·配菜推荐 │   │ ·编辑保存 │                │
│  └────┬─────┘   └────┬─────┘   └────┬─────┘                │
│       │              │              │                        │
│  ┌────▼─────┐   ┌────▼─────┐   ┌───▼──────┐                │
│  │ 🎲 转盘  │   │ 🍳 混合组餐│   │ 📚 我的   │                │
│  │ Spinner  │   │   Mix     │   │ 菜谱库    │                │
│  │ ·心情选择 │   │ ·自由组合 │   │ MyRecipes │                │
│  │ ·偏好配置 │   │ ·统筹预览 │   │ ·云端同步 │                │
│  │ ·AI推荐  │   │ ·效率优化 │   │ ·一键开做 │                │
│  └────┬─────┘   └────┬─────┘   └──────────┘                │
│       │              │                                       │
│  ┌────▼─────────────▼───────────────────────┐               │
│  │           📋 菜单预览 Preview              │               │
│  │  ·仪表盘(时间/灶台/营养)  ·荤素搭配平衡   │               │
│  │  ·大字模式  ·灵活换菜  ·封面图展示         │               │
│  └────────────────┬─────────────────────────┘               │
│                   │                                          │
│       ┌───────────┼───────────┐                              │
│       ▼           ▼           ▼                              │
│  ┌─────────┐ ┌─────────┐ ┌─────────┐                       │
│  │ 🛒 购物  │ │ 🍽 菜单  │ │ 👨‍🍳 步骤 │                       │
│  │Shopping │ │  Menu   │ │  Steps  │                        │
│  │·分类清单 │ │·菜品展示 │ │·并行流水线│                       │
│  │·数量缩放 │ │·宝宝菜谱 │ │·进度追踪 │                       │
│  │·勾选管理 │ │·一键换菜 │ │·阶段提示 │                       │
│  └─────────┘ └─────────┘ └─────────┘                       │
│                                                              │
└─────────────────────────────────────────────────────────────┘
```

### 3.2 功能详细矩阵

| 模块 | 功能 | AI加持 | 状态 |
|------|------|--------|------|
| **首页 Home** | 天气感知智能问候、日期展示、功能导航 | ✅ 天气API + 情境问候 | ✅ 已上线 |
| **转盘 Spinner** | 心情选择、家庭偏好配置（人数/荤素/忌口/饮食风格）、三环转盘动画、AI菜单推荐 | ✅ Kimi大模型推荐 | ✅ 已上线 |
| **预览 Preview** | 菜单仪表盘、营养平衡提示、大字模式、换菜、封面图 | ✅ 风味平衡算法 | ✅ 已上线 |
| **菜单 Menu** | 成人+宝宝菜品展示、食材预览、时间估算 | — | ✅ 已上线 |
| **步骤 Steps** | 多菜并行流水线、阶段提示、进度环、时间线可视化 | ✅ 流水线调度算法 | ✅ 已上线 |
| **购物 Shopping** | 分类购物清单、动态数量缩放、勾选管理、共用食材标注 | — | ✅ 已上线 |
| **扫冰箱 Scan** | 多图上传(最多5张)、AI食材识别、智能配菜、缺料购物清单 | ✅ Kimi Vision视觉识别 | ✅ 已上线 |
| **导入 Import** | 小红书/抖音链接导入、截图识别、结构化提取、编辑保存 | ✅ Kimi多模态提取 | ✅ 已上线 |
| **混合组餐 Mix** | 原生+导入菜谱自由组合、并行时间优化、效率评分 | ✅ 并行调度算法 | ✅ 已上线 |
| **我的菜谱 MyRecipes** | 导入菜谱管理、云端+本地合并、一键开做 | — | ✅ 已上线 |

---

## 4. 用户旅程与核心流程

### 4.1 主流程 — 智能菜单生成

```
用户打开小程序
    │
    ▼
🏠 首页（看到天气+问候）
    │
    ▼ 点击「今天吃什么」
    │
🎲 转盘页
    │ ① 选择心情（开心/疲惫/馋了/随便）
    │ ② 配置偏好（人数/荤素/忌口/宝宝）
    │ ③ 点击开始
    │
    ▼ 调用 smartMenuGen 云函数
    │
🎡 三环转盘动画（荤菜/素菜/汤品）
    │
    ▼ 动画结束自动跳转
    │
📋 预览页
    │ ·查看仪表盘（时间/灶台/营养）
    │ ·查看菜品详情+封面图
    │ ·可以换掉不满意的菜
    │
    ▼ 点击「开始做饭」
    │
🛒 购物清单页
    │ ·按分类浏览食材
    │ ·去超市对着勾选
    │
    ▼ 点击「食材已买齐」
    │
👨‍🍳 烹饪步骤页
    │ ·并行流水线模式
    │ ·逐步完成打勾
    │ ·实时进度追踪
    │
    ▼ 全部完成
    │
🎉 完成！今日菜单存入历史记录（7天）
```

### 4.2 冰箱扫描流程

```
📷 拍照（最多5张冰箱照片）
    │
    ▼ 并行上传+AI识别
    │
🔍 食材识别结果（可编辑/补充）
    │
    ▼ AI配菜推荐
    │
📝 推荐菜品列表（匹配度排序）
    │ ·勾选想做的菜
    │
    ▼ 生成购物清单
    │
🛒 智能购物清单
    │ ·已有食材自动排除
    │ ·仅显示需购买的
    │
    ▼ 开始做饭
    │
👨‍🍳 烹饪步骤
```

### 4.3 菜谱导入流程

```
🔗 粘贴链接 / 📸 上传截图
    │
    ▼ AI结构化提取
    │
📄 菜谱预览
    │ ·名称/烹饪方式/口味/时间
    │ ·食材清单
    │ ·烹饪步骤
    │ ·可编辑修改
    │
    ├─→ 「直接开始做」→ 步骤页
    │
    └─→ 「保存到我的菜谱」→ 云端+本地存储
```

---

## 5. 技术架构总览

### 5.1 系统架构图

```
┌─────────────────────────────────────────────────────────────────────┐
│                         客户端层 (Client Layer)                      │
│                                                                      │
│   ┌────────────────────────────────────────────────────────────┐    │
│   │              微信小程序 (WeChat Mini Program)                │    │
│   │                                                              │    │
│   │   ┌──────────┐  ┌──────────┐  ┌──────────┐  ┌──────────┐  │    │
│   │   │ 页面层    │  │ 逻辑层    │  │ 数据层    │  │ 工具层    │  │    │
│   │   │ Pages(10) │  │ Logic    │  │ Data     │  │ Utils    │  │    │
│   │   │ ·WXML模板 │  │ ·comboOpt│  │ ·menuData│  │ ·cloudSvc│  │    │
│   │   │ ·WXSS样式 │  │ ·dashboard│ │ ·menuGen │  │ ·imageLib│  │    │
│   │   │ ·JS控制器 │  │ ·protocol│  │ ·recipes │  │ ·stepHelp│  │    │
│   │   │ ·WXS脚本 │  │          │  │ ·schema  │  │ ·history │  │    │
│   │   └──────────┘  └──────────┘  └──────────┘  └──────────┘  │    │
│   └────────────────────────────────────────────────────────────┘    │
│                                                                      │
│   ┌────────────────────────────────────────────────────────────┐    │
│   │                Vue 3 Web 版（备用）                          │    │
│   │   Vue 3 + Vite + Vue Router + Vant UI                      │    │
│   └────────────────────────────────────────────────────────────┘    │
│                                                                      │
├─────────────────────────────────────────────────────────────────────┤
│                        云函数层 (Cloud Function Layer)                │
│                                                                      │
│   ┌──────────┐  ┌──────────┐  ┌──────────┐  ┌──────────┐          │
│   │ fridgeScan│  │smartMenu │  │ recipe   │  │recipeCov-│          │
│   │          │  │   Gen    │  │  Import  │  │  erGen   │          │
│   │ ·视觉识别 │  │ ·Kimi LLM│  │ ·链接抓取 │  │ ·DALL·E  │          │
│   │ ·配菜匹配 │  │ ·天气+心情│  │ ·截图识别 │  │ ·MiniMax │          │
│   │ ·AI组餐  │  │ ·历史去重 │  │ ·结构化  │  │ ·MJ风格  │          │
│   └──────────┘  └──────────┘  └──────────┘  └──────────┘          │
│                                                                      │
│   ┌──────────┐                                                      │
│   │getWeather│                                                      │
│   │ ·和风天气 │                                                      │
│   └──────────┘                                                      │
│                                                                      │
├─────────────────────────────────────────────────────────────────────┤
│                       数据与存储层 (Data & Storage Layer)             │
│                                                                      │
│   ┌──────────────┐  ┌──────────────┐  ┌──────────────────┐        │
│   │ 微信云开发 DB  │  │ 云存储 COS   │  │ 本地存储 Storage │        │
│   │              │  │              │  │                  │        │
│   │ ·recipes     │  │ ·封面图片    │  │ ·菜谱缓存        │        │
│   │ ·imported    │  │ ·步骤图片    │  │ ·菜单历史(7天)   │        │
│   │  _recipes    │  │ ·购物封面    │  │ ·用户偏好        │        │
│   │              │  │ ·Logo资源    │  │ ·草稿数据        │        │
│   └──────────────┘  └──────────────┘  └──────────────────┘        │
│                                                                      │
├─────────────────────────────────────────────────────────────────────┤
│                       外部 API 层 (External API Layer)               │
│                                                                      │
│   ┌──────────┐  ┌──────────┐  ┌──────────┐  ┌──────────┐          │
│   │ Kimi AI  │  │ 和风天气  │  │ MiniMax  │  │ OpenAI   │          │
│   │ (月之暗面) │  │ QWeather │  │ Image    │  │ DALL·E 2 │          │
│   │ ·Vision  │  │ ·实时天气 │  │ ·图片生成 │  │ ·图片生成 │          │
│   │ ·Chat    │  │ ·温度/天况│  │          │  │ (备选)   │          │
│   └──────────┘  └──────────┘  └──────────┘  └──────────┘          │
│                                                                      │
├─────────────────────────────────────────────────────────────────────┤
│                     开发工具链 (Development Toolchain)                │
│                                                                      │
│   ┌──────────────────────────────────────────────────────────┐      │
│   │  tools/ — 自动化运维工具集                                 │      │
│   │  ·菜谱生成 (Anthropic Claude)  ·云端同步  ·批量导入        │      │
│   │  ·数据清洗  ·菜谱优化  ·一致性校验  ·趋势挖掘              │      │
│   └──────────────────────────────────────────────────────────┘      │
│                                                                      │
└─────────────────────────────────────────────────────────────────────┘
```

### 5.2 技术栈一览

| 层级 | 技术选型 | 说明 |
|------|----------|------|
| **前端框架** | 微信小程序原生 (WXML/WXSS/JS/WXS) | 原生性能最优，无框架依赖 |
| **备用前端** | Vue 3 + Vite + Vant UI | Web版本，共享数据/逻辑层 |
| **云开发平台** | 微信云开发 (TCB) | 免运维，原生集成微信生态 |
| **云函数运行时** | Node.js (wx-server-sdk) | 5个云函数，无服务器架构 |
| **AI 大模型** | Kimi (月之暗面) Vision + Chat | 主力 AI 能力提供方 |
| **图像生成** | MiniMax Image API / OpenAI DALL·E 2 | 菜谱封面图自动生成 |
| **天气服务** | 和风天气 QWeather | 基于定位的天气感知 |
| **数据库** | 微信云开发 MongoDB | 文档型数据库，菜谱存储 |
| **文件存储** | 微信云存储 (COS) | 图片资源存储 |
| **本地存储** | wx.setStorageSync | 缓存、历史记录、草稿 |
| **菜谱生产工具** | Anthropic Claude + 自研工具链 | 高质量菜谱批量生产 |

### 5.3 架构设计原则

| 原则 | 实现方式 |
|------|----------|
| **离线优先** | 三级降级：内存缓存 → 本地存储 → 本地菜谱兜底文件 |
| **渐进增强** | 核心功能离线可用，AI 功能在线增强 |
| **纯函数设计** | 逻辑层函数无副作用，可测试、可复用 |
| **管道模式** | 云函数采用步骤化管道，错误隔离 |
| **增量同步** | 仅同步 `updateTime > lastSyncTime` 的数据 |
| **懒加载** | `lazyCodeLoading: "requiredComponents"` |

---

## 6. 数据架构与模型

### 6.1 核心数据模型

#### 菜谱 (Recipe) — 核心实体

```javascript
{
  // === 基础信息 ===
  id: "chicken_kung_pao",           // 唯一标识
  name: "宫保鸡丁",                   // 菜品名称
  type: "adult" | "baby",           // 成人/宝宝菜谱
  source: "native" | "external",    // 原生/外部导入

  // === 分类属性 ===
  meat: "chicken|pork|beef|fish|shrimp|vegetable",  // 主料类型
  taste: "quick_stir_fry|slow_stew|steamed_salad",  // 烹饪风格
  flavor_profile: "spicy|salty_umami|light|sweet_sour|sour_fresh",  // 风味
  cook_type: "stir_fry|stew|steam|cold_dress",      // 烹饪方式
  dish_type: "soup" | null,         // 是否为汤品

  // === 时间与份量 ===
  prep_time: 15,                    // 备菜时间(分钟)
  cook_minutes: 20,                 // 烹饪时间(分钟)
  base_serving: 2,                  // 基准份量(人)

  // === 特殊属性 ===
  is_baby_friendly: true,           // 是否可做宝宝版
  can_share_base: true,             // 是否可共享底料
  common_allergens: ["peanut"],     // 常见过敏原
  tags: ["quick", "home"],          // 标签

  // === 食材 ===
  main_ingredients: [...],          // 主要食材
  seasonings: [...],                // 调料
  ingredients: [{                   // 合并食材列表
    name: "鸡胸肉",
    amount: 300,
    unit: "g",
    category: "肉类",
    sub_type: "去骨"
  }],

  // === 步骤 ===
  steps: [{
    step_type: "prep|cook",
    actionType: "long_term|active|idle_prep",
    duration_num: 5,
    text: "鸡胸肉切丁，加入料酒和淀粉腌制"
  }],

  // === 宝宝变体 ===
  baby_variant: {
    name: "宝宝版鸡丁",
    month: 12,
    adjustments: [...]
  }
}
```

#### 菜单 (Menu) — 日常生成单元

```javascript
{
  adultRecipe: Recipe,              // 成人菜谱
  babyRecipe: Recipe | null,        // 宝宝菜谱(可选)
  meat: "chicken",                  // 主料类型
  taste: "quick_stir_fry",         // 烹饪风格
  checked: true                     // 是否选中
}
```

#### 购物清单项 (Shopping Item) — 智能合并

```javascript
{
  name: "鸡胸肉",
  sub_type: "去骨",
  amount: "450g",                   // 显示格式
  rawAmount: 450,                   // 原始数值(用于缩放)
  unit: "g",
  category: "肉类",                 // 蔬菜/肉类/蛋类/干货/调料/其他
  checked: false,
  isShared: true,                   // 多菜共用
  fromRecipes: ["宫保鸡丁", "鸡汤"], // 来源菜品
}
```

### 6.2 数据流转架构

```
┌─────────────────────────────────────────────────────┐
│                    数据来源                           │
│                                                      │
│  ☁️ 云数据库         📱 本地存储        📦 本地兜底    │
│  (recipes集合)      (缓存/历史)       (recipes.js)   │
│       │                 │                  │          │
│       └────────┬────────┘                  │          │
│                ▼                           │          │
│       ┌────────────────┐                   │          │
│       │ cloudRecipeService │◄──────────────┘          │
│       │ (三级降级策略)     │  最后兜底                  │
│       └────────┬────────┘                             │
│                │                                      │
│                ▼                                      │
│       ┌────────────────┐                              │
│       │  全局菜谱缓存   │                              │
│       │ (getApp().recipes)│                            │
│       └────────┬────────┘                             │
│                │                                      │
│    ┌───────────┼───────────┬──────────┐              │
│    ▼           ▼           ▼          ▼              │
│ menuGen    fridgeScan   recipeImport  mix            │
│ (生成菜单)  (扫描匹配)   (导入转化)  (自由组合)       │
│    │           │           │          │              │
│    └───────────┼───────────┼──────────┘              │
│                ▼                                      │
│       ┌────────────────┐                              │
│       │  菜单/购物/步骤  │                              │
│       │  (呈现给用户)    │                              │
│       └────────────────┘                              │
│                │                                      │
│                ▼                                      │
│       ┌────────────────┐                              │
│       │  menuHistory    │                              │
│       │  (7天历史记录)   │                              │
│       └────────────────┘                              │
│                                                      │
└─────────────────────────────────────────────────────┘
```

### 6.3 数据存储策略

| 数据类型 | 存储位置 | 同步策略 | TTL |
|----------|----------|----------|-----|
| 菜谱库 | 云DB + 本地缓存 + 兜底文件 | 增量同步 (updateTime) | 永久 |
| 导入菜谱 | 云DB (imported_recipes) + 本地 | 双写 | 永久 |
| 菜单历史 | 本地 Storage | 无需云端 | 7天自动清理 |
| 用户偏好 | 本地 Storage | 无需云端 | 永久 |
| 天气数据 | 内存缓存 | 实时获取 | 30分钟 |
| 位置信息 | 内存缓存 | 实时获取 | 1小时 |
| 图片临时URL | 内存缓存 | 按需转换 | 会话级 |
| 组餐草稿 | 本地 Storage | 无需云端 | 永久 |

---

## 7. AI 能力矩阵

### 7.1 AI 功能总览

```
┌────────────────────────────────────────────────────────────┐
│                    AI 能力矩阵                              │
│                                                             │
│  ┌─────────────────────────────────────────────────────┐   │
│  │            Kimi (月之暗面) — 核心 AI 引擎             │   │
│  │                                                      │   │
│  │  ┌──────────┐  ┌──────────┐  ┌──────────────────┐  │   │
│  │  │ Vision   │  │ Chat     │  │ Multi-modal      │  │   │
│  │  │ 视觉识别  │  │ 文本推理  │  │ 多模态理解       │  │   │
│  │  │          │  │          │  │                   │  │   │
│  │  │·冰箱食材  │  │·智能菜单  │  │·截图菜谱提取     │  │   │
│  │  │ 识别     │  │ 推荐     │  │·链接内容理解     │  │   │
│  │  │·置信度   │  │·组餐建议  │  │·结构化输出       │  │   │
│  │  │ 评估     │  │·风味平衡  │  │                   │  │   │
│  │  └──────────┘  └──────────┘  └──────────────────┘  │   │
│  └─────────────────────────────────────────────────────┘   │
│                                                             │
│  ┌──────────────────┐  ┌──────────────────┐                │
│  │ MiniMax Image    │  │ OpenAI DALL·E 2  │                │
│  │ 封面图生成(主力)   │  │ 封面图生成(备选)  │                │
│  └──────────────────┘  └──────────────────┘                │
│                                                             │
│  ┌──────────────────┐                                      │
│  │ Anthropic Claude │                                      │
│  │ 菜谱生产工具链     │                                      │
│  │ (开发侧，非运行时)  │                                      │
│  └──────────────────┘                                      │
│                                                             │
└────────────────────────────────────────────────────────────┘
```

### 7.2 AI 应用场景详解

#### 场景 1：冰箱扫描 (fridgeScan)

```
📷 多张冰箱照片
    │
    ▼ [并行处理]
┌─────────────┐     ┌─────────────┐
│ Kimi Vision │     │ 云DB查询     │
│ 食材识别     │     │ 加载菜谱库   │
└──────┬──────┘     └──────┬──────┘
       │                   │
       ▼                   ▼
┌─────────────────────────────────┐
│ matcher.js — 智能配菜匹配算法     │
│                                  │
│ score = mainMatch × 0.7          │
│       + seasoningMatch × 0.1     │
│       + categoryBonus × 0.2      │
│                                  │
│ + 同义词归一化(番茄→西红柿)        │
│ + 类别加成(有鸡肉→鸡类菜加分)     │
└──────────────┬──────────────────┘
               │
               ▼
┌─────────────────────────────────┐
│ composer.js — Kimi AI 智能组餐    │
│                                  │
│ 决策维度:                         │
│ ·食材利用率最大化                  │
│ ·荤素搭配平衡                     │
│ ·烹饪方式多样性                   │
│ ·口味互补性                       │
│ ·烹饪时间可行性                   │
└─────────────────────────────────┘
```

#### 场景 2：智能菜单推荐 (smartMenuGen)

```
输入: 天气 + 心情 + 家庭档案 + 近期菜单历史 + 候选菜谱
    │
    ▼
┌─────────────────────────────────┐
│ Kimi Chat — 多维度决策           │
│                                  │
│ 决策维度:                         │
│ ·天气适配(冷天推炖菜，热天推凉菜)  │
│ ·心情适配(疲惫→快手菜)            │
│ ·家庭适配(有宝宝→温和口味)        │
│ ·过敏规避(海鲜/花生/麸质等)       │
│ ·历史去重(避免连续吃重复菜)       │
│ ·荤素结构(满足用户选择的搭配)     │
│                                  │
│ 降级策略: AI失败 → 本地随机生成    │
└─────────────────────────────────┘
```

#### 场景 3：菜谱导入 (recipeImport)

```
链接模式: 小红书/抖音URL → 内容抓取 → Kimi文本提取 → 结构化
截图模式: 1-5张截图 → Kimi Vision → 结构化JSON
    │
    ▼
┌─────────────────────────────────┐
│ normalizer.js — 智能归一化        │
│                                  │
│ 自动推断:                         │
│ ·cook_type (炒/炖/蒸/拌)         │
│ ·meat (鸡/猪/牛/鱼/虾/素)        │
│ ·flavor_profile (辣/鲜/清淡/酸)  │
│ ·taste (快炒/慢炖/蒸拌)          │
│ ·allergens (自动检测)             │
│ ·baby_friendly (自动评估)         │
│ ·prep_time / cook_minutes        │
│ ·食材分类与单位标准化              │
└─────────────────────────────────┘
```

---

## 8. 核心算法深度解析

### 8.1 三层菜单生成算法

这是产品最核心的算法引擎，保障每次生成的菜单都营养均衡、烹饪可行。

```
第一层: 预过滤 (Pre-Filter)
├── 过敏原排除 (avoidList → 食材映射 → 菜谱过滤)
├── 饮食风格匹配 (home/light/rich/quick → 标签过滤)
└── 输出: 候选菜谱池

第二层: 核心选择与平衡 (Selection & Balancing)
├── 设备互斥算法 (Device Mutex)
│   ├── 炒锅(wok): 最多2道
│   ├── 炖锅(stove_long): 最多1道
│   ├── 蒸锅(steamer): 最多1道
│   └── 汤锅(pot): 最多1道
├── 炖菜平衡: 最多1道慢炖
├── 多样性过滤:
│   ├── 避免重复主要食材
│   ├── 限制同类烹饪方式频率
│   └── 避免菜名前缀重复
└── 输出: 平衡菜单

第三层: 动态缩放 (Dynamic Scaling)
├── 非调料食材: amount = (totalCount / base_serving) × baseAmount
├── 调料: 固定用量("适量")
└── 输出: 按人数调整后的最终菜单
```

### 8.2 并行烹饪流水线调度算法

**这是产品最大的技术差异点** — 将多道菜的烹饪步骤重新编排为流水线模式，最大化时间利用。

#### 8.2.1 核心调度流水线

```
输入: N道菜的独立步骤序列
    │
    ▼
Stage 1 — 全局备菜 (Prep Phase)
├── 合并所有菜的备菜步骤
├── 去重(同一食材只切一次)
└── 输出: 统一备菜清单

Stage 2 — 启动长时任务 (Long-term Tasks)
├── 识别炖煮/蒸制等长时间任务
├── 优先启动(利用等待时间)
└── 输出: 长时任务开始执行

Stage 3 — 间隙填充 (Gap Filling)
├── 在等待窗口中插入其他任务
│   ├── active: 快炒等需要注意力的
│   └── idle_prep: 可同时进行的准备
├── 并行上下文追踪:
│   ├── 当前运行的长时任务名称
│   ├── 剩余等待时间
│   └── 可执行提示
└── 输出: 优化后的并行步骤序列

Stage 4 — 收尾 (Finish Phase)
├── 收集所有出锅/装盘步骤
└── 输出: 统一收尾步骤

并行上下文注入:
├── 每个步骤标注"此时正在..."
├── 提示可利用的等待时间
└── 阶段切换提示(备菜→烹饪)
```

#### 8.2.2 设备冲突检测与智能调解 (Device Conflict Resolution)

普通菜谱 App 只告诉你"怎么做一道菜"。TableSync 不同——它模拟的是**一整个厨房的物理约束**。

**已实现的设备互斥模型：**

```
┌─────────────────────────────────────────────────────────────┐
│              家庭厨房设备约束建模                              │
│                                                              │
│  设备类型       实体映射           上限    冲突规则            │
│  ─────────────────────────────────────────────────────       │
│  wok           炒锅/平底锅        ≤ 2    大火爆炒需独占灶台  │
│  stove_long    炖锅/砂锅          ≤ 1    长时间占灶，不可中断 │
│  steamer       蒸锅/蒸笼          ≤ 1    可叠蒸，但仅1灶位   │
│  pot           汤锅               ≤ 1    持续占灶            │
│  none          凉菜/拌菜          ∞      无灶台需求          │
│                                                              │
│  冲突检测链路:                                                │
│  用户选菜 → getRecipeDevice() → wouldExceedDeviceLimit()     │
│          → filterByDeviceLimits() → 排队/替换建议             │
│                                                              │
│  峰值灶台计算 (Mix页面实时预览):                              │
│  peakStoves = min(炖锅数, 2) + (有蒸菜?1:0) + (有炒菜?1:0)  │
│                                                              │
│  超限触发策略:                                                │
│  ├── 炒菜 > 2道 → 提示"炒菜较多，建议分批操作"              │
│  ├── 峰值灶台 > 3 → 提示"建议减少一道需要火眼的菜"          │
│  ├── 炖菜 > 1道 → 提示"多道炖菜可能同时占用灶台"            │
│  └── 所有候选超限 → 降级为原池随机选取（保证可用性）          │
└─────────────────────────────────────────────────────────────┘
```

**演进方向 — 智能替换建议（规划中）：**

当检测到设备冲突时，系统未来将不仅"警告"，更会主动推荐替代方案：
- 2道爆炒冲突 → 建议将其中1道替换为「凉拌/烤箱菜」
- 峰值灶台超3 → 建议引入「免火菜」(cold_dress) 降低灶台压力
- 时间窗口冲突 → 自动调整烹饪顺序，将短任务插入长任务等待间隙

#### 8.2.3 效率对比：顺序执行 vs TableSync 并行优化

以典型的「2荤1素1汤」四菜一家人晚餐为例：

```
━━━ 传统顺序执行 (Serial) ━━━━━━━━━━━━━━━━━━━━━━━━━━━━

时间轴 →  0    10    20    30    40    50    60    70    80  (分钟)
          ├─────┤
          │备菜A│
          ├─────┼──────────────┤
                │   红烧排骨    │
                ├──────────────┼─────┤
                               │备菜B│
                               ├─────┼───────┤
                                     │ 清蒸鱼 │
                                     ├───────┼─────┤
                                             │备菜C│
                                             ├─────┼────┤
                                                   │快炒│
                                                   ├────┼─────┤
                                                        │备菜D│
                                                        ├─────┼────┤
                                                              │煮汤│

总时间: ≈ 80分钟 (一道一道来)


━━━ TableSync 并行优化 (Parallel Pipeline) ━━━━━━━━━━━━

时间轴 →  0    10    20    30    40    50   (分钟)
          ├─────────────┤
          │ 全局统一备菜  │ ← Stage 1: 所有菜的备菜一次性完成
          ├─────────────┼──────────────────────────────┤
          │             │      🔥 红烧排骨 (炖锅)       │ ← Stage 2: 先启动长任务
          │             ├──────────────┤                │
          │             │  🐟 清蒸鱼   │                │ ← Stage 3: 间隙填充
          │             │ (蒸锅,与炖并行)│                │
          │             ├──────────────┼────┤           │
          │             │              │快炒│           │ ← 等蒸鱼出锅后，快炒上桌
          │             │              ├────┤           │
          │             │        汤锅同时煲汤 │           │ ← 与炖菜并行
          │             │              │    ├───────────┤
          │             │              │    │  统一收尾   │ ← Stage 4
                                                     
总时间: ≈ 45分钟 (多线并行)
节省:   ≈ 35分钟 (效率提升 44%)

             ┌──────────────────────────────────┐
             │  🎯 核心价值: 省出来的35分钟        │
             │     = 陪孩子玩耍 / 刷一集剧 /       │
             │       等菜期间准备第二天的饭盒        │
             └──────────────────────────────────┘
```

**效率计算公式:**
```
顺序时间 = Σ(每道菜的总时间)
并行时间 = 统一备菜 + max(长时任务时间, Σ(短任务重叠)) + 收尾
节省时间 = 顺序时间 - 并行时间
效率评分 = (节省时间 / 顺序时间) × 100%

实测效率: 典型4菜场景 35-50% | 3菜场景 25-40% | 2菜场景 15-25%
```

### 8.3 风味平衡算法

```
规则引擎:
├── 辣味最多1道; 如有辣菜 → 必须配≥1道清淡/酸鲜
├── 重口味占比 > 50% → 建议加酸鲜/清淡
├── 酸味占比 > 50% → 建议加咸鲜/清淡
├── 全部清淡 → 建议加一道提味菜
├── 鲜味检测 → 识别海鲜/菌菇/番茄等天然鲜味源
└── 输出: 推荐风味 + 平衡建议 + 是否需要鲜味补充
```

### 8.4 食材匹配评分算法 (冰箱扫描)

```
score = (主料匹配数 / 主料总数) × 0.7
      + (调料匹配数 / 调料总数) × 0.1
      + 类别加成 × 0.2

同义词归一化:
├── "番茄" ↔ "西红柿"
├── "土豆" ↔ "马铃薯"
├── "鸡蛋" ↔ "蛋"
└── ... (持续扩展)

类别加成:
├── 用户有鸡肉 → 所有鸡类菜 +0.2
├── 用户有蔬菜 → 匹配蔬菜类 +0.2
└── 精确匹配优先于类别匹配
```

### 8.5 虚拟冰箱镜像 — 食材生命周期闭环 (Virtual Fridge Mirror)

**这是连接「购买→烹饪→消耗」的完整闭环**，将 TableSync 从"烹饪工具"升级为"家庭食材管理中枢"。

#### 核心概念

```
┌─────────────────────────────────────────────────────────────┐
│            虚拟冰箱镜像 (Virtual Fridge Mirror)               │
│                                                              │
│  ┌─────────┐     ┌─────────┐     ┌─────────┐              │
│  │ 📸 输入  │────▶│ 🧊 存储  │────▶│ 🔥 消耗  │              │
│  │ (Ingest) │     │ (Stock) │     │(Consume)│              │
│  └─────────┘     └─────────┘     └─────────┘              │
│       │               │               │                     │
│       ▼               ▼               ▼                     │
│  ·冰箱扫描入库     ·虚拟库存面板     ·烹饪步骤完成           │
│  ·购物勾选入库     ·保质期预警       → 按比例自动扣减        │
│  ·手动添加        ·智能补货建议     ·剩余食材可视化          │
│                                                              │
│  ════════════════════════════════════════════════            │
│                                                              │
│  数据闭环:                                                    │
│                                                              │
│  拍冰箱 ──→ 识别食材 ──→ 入库(虚拟冰箱)                     │
│     ↑                          │                             │
│     │                          ▼                             │
│     │                    AI推荐菜单                           │
│     │                    (优先消耗临期食材)                    │
│     │                          │                             │
│     │                          ▼                             │
│     │                    生成购物清单                          │
│     │                    (仅补差额)                           │
│     │                          │                             │
│     │                          ▼                             │
│     │                    购物勾选完成                          │
│     │                    → 新食材入库                         │
│     │                          │                             │
│     │                          ▼                             │
│     │                    完成烹饪步骤                          │
│     │                    → 食材自动扣减                       │
│     │                          │                             │
│     └──────────────────────────┘                             │
│              下次扫描/下次做饭                                 │
│                                                              │
│  ═══════════════════════════════════════════════             │
│                                                              │
│  对投资人的价值:                                              │
│  ├── 📈 DAU 提升: 用户每天打开查看"冰箱还有啥"               │
│  ├── 🔄 留存提升: 数据越用越准，迁移成本高                    │
│  ├── 🛒 商业闭环: 缺什么→一键补货→电商导流                   │
│  ├── 📊 数据资产: 家庭食材消耗画像(品类/频率/品牌)           │
│  └── 🤖 AI 增强: 临期食材优先推荐，减少食物浪费              │
│                                                              │
└─────────────────────────────────────────────────────────────┘
```

#### 数据模型 (规划)

```javascript
// 虚拟冰箱库存项
{
  name: "鸡胸肉",
  amount: 500,                    // 剩余量(g)
  unit: "g",
  category: "肉类",
  source: "shopping|scan|manual", // 入库来源
  inDate: "2026-02-07",           // 入库日期
  estimatedExpiry: "2026-02-10",  // 预估保质期
  isExpiringSoon: true,           // 临期标记
  brand: "圣农",                   // 品牌(可选，为品牌合作预留)
}
```

> **实现优先级**: Phase 2-3。当前已具备核心基础设施——冰箱扫描(输入)、购物清单(入库)、烹饪步骤(消耗) 三个触点已完整实现，仅需增加"库存状态层"即可串联闭环。

---

## 9. UI/UX 设计体系

### 9.1 设计语言

| 维度 | 定义 |
|------|------|
| **设计风格** | 温暖食物感 (Warm Food-centric) |
| **主色调** | 暖橙色系 `#E8A87C` / `#c1663e` / `#D4956A` |
| **背景色** | 米白暖色 `#fdf8f2` / `#FDFCFA` / `#FAF9F7` |
| **文字色** | 深炭色 `#2d2d2d` / 柔灰 `#7d746d` |
| **圆角** | 大圆角 24-48rpx |
| **字体** | 系统字体栈 (-apple-system, BlinkMacSystemFont) |
| **图标** | Emoji 驱动（🍳🥗🛒🎲👶 等） |

### 9.2 Design Tokens

```css
/* 色彩系统 */
--primary: #2d2d2d;           /* 主色 */
--primary-light: #c1663e;     /* 强调色 */
--bg: #fdf8f2;                /* 背景 */
--card-bg: #fff;              /* 卡片背景 */
--text: #2d2d2d;              /* 正文 */
--text-muted: #7d746d;        /* 次要文字 */
--border: #efe9e2;            /* 边框 */

/* 语义色 */
--adult-badge-bg: #e8f0e9;    /* 成人标签 */
--baby-badge-bg: #feeff0;     /* 宝宝标签 */
--prep-phase: #c8e6c9;        /* 备菜阶段 */
--cook-phase: #ffccbc;        /* 烹饪阶段 */
--success: #5a9e6f;           /* 成功 */

/* 间距体系 */
16rpx / 24rpx / 32rpx / 48rpx

/* 字号体系 */
标题: 40-52rpx (bold)
副标题: 28-34rpx (semi-bold)
正文: 24-28rpx (regular)
辅助: 20-24rpx (regular)
标签: 18-22rpx (regular)
```

### 9.3 交互设计亮点

| 设计点 | 说明 |
|--------|------|
| **三环转盘** | 荤菜/素菜/汤品三环独立旋转，视觉趣味性强 |
| **并行时间线** | 左侧时间轴 + 阶段提示 + 进度环，烹饪过程清晰可视 |
| **大字模式** | 一键切换大字体，适合边做饭边看手机的场景 |
| **滑动面板** | Mix 页面底部滑出式选菜面板，操作流畅 |
| **卡片化设计** | 所有信息以卡片呈现，层次分明 |
| **渐变覆盖** | 封面图上叠加渐变，保证文字可读性 |
| **胶囊按钮** | 快速选择使用胶囊按钮组，操作效率高 |
| **进度追踪** | 圆环进度条实时显示烹饪完成百分比 |

### 9.4 无障碍与适老化

- 大字模式（Preview 页面）
- 高对比度文字
- 足够大的触摸目标（≥48rpx）
- 明确的视觉反馈（:active 状态）
- 分阶段提示避免认知过载

---

## 10. 云端基础设施

### 10.1 云函数架构

| 云函数 | 触发场景 | AI 调用 | 平均响应时间 | 降级策略 |
|--------|----------|---------|-------------|----------|
| **fridgeScan** | 冰箱拍照扫描 | Kimi Vision + Chat | ~5-10s | 仅返回识别结果，跳过AI组餐 |
| **smartMenuGen** | 转盘菜单生成 | Kimi Chat | ~3-5s | 客户端本地随机生成 |
| **recipeImport** | 截图/链接导入 | Kimi Vision/Chat | ~5-8s | 返回错误提示，用户手动录入 |
| **recipeCoverGen** | 封面图生成 | MiniMax/DALL·E | ~10-15s | 使用默认封面图 |
| **getWeather** | 首页天气获取 | — | ~1s | 不显示天气信息 |

### 10.2 云数据库集合

| 集合名 | 用途 | 文档结构 | 预估数据量 |
|--------|------|----------|-----------|
| `recipes` | 原生菜谱库 | 完整 Recipe Schema | ~200+ 菜谱 |
| `imported_recipes` | 用户导入菜谱 | 带 source 标记的 Recipe | 随用户增长 |

### 10.3 云存储结构

```
cloud://xxx.xxx/
├── adults_recipes/          # 成人菜谱封面图
│   ├── kung_pao_chicken.png
│   ├── braised_pork.png
│   └── ... (~200+ 张)
├── babies_recipes/          # 宝宝菜谱封面图
├── prep_cover_pic/          # 备菜步骤封面
├── shopping_cover_pic/      # 购物清单封面
└── logo/                    # 品牌Logo资源
```

---

## 11. 竞争优势分析（SWOT）

### 11.1 优势 (Strengths)

| 维度 | 优势 | 详细说明 |
|------|------|----------|
| **🧠 算法深度** | 并行烹饪流水线调度 | 业内首创的多菜同做时间优化算法，将烹饪效率提升30-50%，这是核心技术壁垒 |
| **🤖 AI 全链路** | 5大AI场景覆盖 | 从视觉识别→智能推荐→菜谱提取→封面生成→组餐建议，AI渗透率极高 |
| **👶 母婴双轨** | 成人+宝宝一体化 | 同一菜谱自动生成宝宝变体，按月龄(6-36个月)适配，精准切入新手父母痛点 |
| **🔌 离线能力** | 三级降级架构 | 云端→缓存→本地兜底，无网络也能使用核心功能，用户体验不断档 |
| **📊 决策智能** | 多维度平衡算法 | 风味平衡、设备互斥、食材去重、营养覆盖、视觉多样性——五重平衡保障菜单质量 |
| **🔗 生态连接** | 跨平台菜谱导入 | 支持小红书/抖音链接和截图导入，打通内容生态到烹饪执行的最后一公里 |
| **📱 微信原生** | 零安装即用 | 微信小程序形态，用户无需下载安装，分享传播成本极低 |
| **🛠 工具链完善** | 自动化菜谱生产 | 基于Claude的菜谱生产工具链，可快速、高质量地扩充菜谱库 |

### 11.2 劣势与预防性策略 (Weaknesses & Mitigation)

> 以下每个短板均附有**已规划的预防性策略**，向投资人展示团队对风险的清醒认知与明确的解决路径。

| 维度 | 当前状态 | 风险等级 | 预防性策略 | 规划阶段 |
|------|----------|---------|-----------|---------|
| **👤 用户画像** | 无登录/账号体系 | 🔴 高 | **OpenID 静默画像** (见下方详述) | Phase 1.5 (最优先) |
| **🏗 组件化** | 无自定义组件库 | 🟡 中 | 抽取通用组件库 (RecipeCard/StepTimeline/ShoppingItem) | Phase 2 |
| **📈 数据分析** | 缺少埋点与分析 | 🟡 中 | 接入微信小程序数据助手 + 自定义事件埋点 | Phase 2 |
| **🧪 测试覆盖** | 无自动化测试 | 🟡 中 | 纯函数架构天然适配单元测试，优先覆盖核心算法 | Phase 2 |
| **🌐 平台单一** | 仅微信小程序 | 🟠 中低 | Vue Web版已有雏形(共享数据/逻辑层)，可快速补全 | Phase 3-4 |
| **💰 商业模式** | 缺少变现入口 | 🟡 中 | 三条变现路径已规划 (详见 13.2 节) | Phase 2-3 |
| **📦 菜谱规模** | ~200道 (高质量) | 🟢 低 | 自动化工具链可快速扩充 + 用户UGC导入飞轮 | 持续 |

#### 最高优先级策略：OpenID 静默家庭画像

这是对「无用户系统」最务实的解法——**不强制登录，但静默积累最有价值的数据资产**。

```
┌─────────────────────────────────────────────────────────────┐
│           OpenID 静默画像 → 家庭偏好画像 (Family Profile)     │
│                                                              │
│  微信小程序自带 OpenID (无需注册登录，用户无感)                │
│                                                              │
│  静默采集维度:                                                │
│  ├── 🚫 忌口记忆: "这家人不吃香菜" (avoidList 持久化)        │
│  ├── ⚠️ 过敏原: "孩子对花生过敏" (allergens 持久化)          │
│  ├── 👶 宝宝月龄: 自动增长，辅食方案自动升级                  │
│  ├── 👨‍👩‍👧 家庭人数: 默认记住上次选择                            │
│  ├── 🍽 口味偏好: 统计历史菜单的 flavor_profile 分布          │
│  ├── ⏱ 做饭习惯: 偏好快手菜 vs 慢炖菜的比例                 │
│  ├── 🛒 食材偏好: 哪些食材频繁购买，哪些从不选择              │
│  └── 📅 做饭频率: 每周几次、集中在哪些天                      │
│                                                              │
│  价值产出:                                                    │
│  ├── 🤖 AI推荐越来越精准 (个性化推荐引擎的数据基础)          │
│  ├── 📊 家庭食材消费画像 (品牌合作的数据支撑)                │
│  ├── 🔄 用户留存增强 (数据迁移成本 = 被锁定的偏好记忆)      │
│  └── 👪 家庭成员扩展 (配偶扫码加入同一画像)                  │
│                                                              │
│  实现成本: 极低                                               │
│  ├── 微信小程序 OpenID 自动获取，零用户感知                  │
│  ├── 数据存储: 云DB 1条文档/家庭                             │
│  └── 增量写入: 每次使用后静默更新偏好字段                    │
│                                                              │
└─────────────────────────────────────────────────────────────┘
```

> **投资人视角**: 这意味着 TableSync 从第一天起就在积累数据资产，而用户完全无感。当用户用了2个月后，系统已经精确知道这个家庭的饮食画像——这就是迁移成本，也是个性化推荐引擎的基石。

### 11.3 机会 (Opportunities)

| 机会 | 说明 | 战略对齐 |
|------|------|----------|
| **🧊 虚拟冰箱生态** | 购买→存储→消耗→补货的完整闭环，每日打开率极高 | 已规划 (Phase 2) |
| **🛒 生鲜电商对接** | 购物清单/虚拟冰箱→叮咚买菜/盒马/美团买菜一键下单 | 已规划 (Phase 3) |
| **👨‍👩‍👧‍👦 家庭协作** | 厨房看板同步，N=1→N=家庭人数，网络效应驱动增长 | 已规划 (Phase 3) |
| **🏷 品牌食材库** | 食材关联品牌标识，精准CPS导流，品牌定制菜谱 | 已规划 (Phase 2) |
| **💝 情绪资产** | 菜单卡片/成就卡/辅食记录卡，社交裂变零成本获客 | 已规划 (Phase 1.5) |
| **📊 营养追踪** | 基于菜谱自动计算热量/蛋白质/微量元素，对接健康管理 | 已规划 (Phase 3) |
| **🌍 国际化** | 海外华人市场、多语言支持、多菜系扩展 | Phase 4 |
| **🏪 B端 SaaS** | 幼儿园/月子中心/养老院营养配餐系统，独立产品线 | Phase 4 |
| **🤝 品牌年度合作** | 品类独占权 (如"鳕鱼品类年度合作伙伴")，高客单价 | Phase 2-3 |

### 11.4 威胁 (Threats)

| 威胁 | 说明 |
|------|------|
| **🏢 大厂入局** | 下厨房/美团/字节等可能推出类似AI功能 |
| **🤖 通用AI替代** | ChatGPT/豆包等通用AI可回答菜谱问题 |
| **📱 平台依赖** | 深度依赖微信小程序生态 |
| **💸 AI成本** | Kimi API调用成本随用户增长可能成为负担 |

---

## 12. 技术壁垒与护城河

### 12.1 核心技术壁垒

```
┌────────────────────────────────────────────────────────────┐
│                    技术护城河层级                            │
│                                                             │
│  Level 4 (最难复制)                                         │
│  ┌─────────────────────────────────────────────────────┐   │
│  │ 🏰 并行烹饪流水线调度算法                              │   │
│  │    多菜同做的工业级时间优化，含设备互斥、                │   │
│  │    间隙填充、阶段标注、并行上下文等完整链路              │   │
│  └─────────────────────────────────────────────────────┘   │
│                                                             │
│  Level 3                                                    │
│  ┌─────────────────────────────────────────────────────┐   │
│  │ 🧮 五重菜单平衡算法 (风味/设备/食材/营养/视觉)        │   │
│  │ 👶 宝宝辅食月龄适配引擎 (6-36个月精准适配)            │   │
│  └─────────────────────────────────────────────────────┘   │
│                                                             │
│  Level 2                                                    │
│  ┌─────────────────────────────────────────────────────┐   │
│  │ 🤖 AI全链路集成 (视觉识别+推荐+提取+生成)             │   │
│  │ 📐 结构化菜谱数据体系 (高质量Schema + 自动化生产)      │   │
│  └─────────────────────────────────────────────────────┘   │
│                                                             │
│  Level 1                                                    │
│  ┌─────────────────────────────────────────────────────┐   │
│  │ 🔌 三级离线降级架构                                    │   │
│  │ 📱 跨平台菜谱导入能力                                  │   │
│  └─────────────────────────────────────────────────────┘   │
│                                                             │
└────────────────────────────────────────────────────────────┘
```

### 12.2 数据护城河

| 数据资产 | 当前规模 | 增长机制 | 壁垒性 |
|----------|---------|----------|--------|
| 结构化菜谱库 | ~200道 | 自动化工具链 + 用户导入 | ⭐⭐⭐ 高质量结构化数据 |
| 菜谱封面图 | ~200张 | AI生成(MJ风格) | ⭐⭐ 风格统一 |
| 组合模板库 | ~50组 | 算法验证+人工优化 | ⭐⭐⭐ 经过平衡验证 |
| 同义词库 | ~30组 | 持续扩展 | ⭐⭐ 匹配准确性 |

---

## 13. 可扩展性与增长路径

### 13.1 技术扩展路径

```
Phase 1 (当前 ✅ 已完成) ────────────────────────────────
✅ 微信小程序 MVP (10个完整页面)
✅ 5大AI功能 (视觉/推荐/导入/生成/天气)
✅ 离线三级降级架构
✅ 并行烹饪流水线调度
✅ 自动化菜谱生产工具链

Phase 1.5 (最优先 1-2个月) ★ ──────────────────────────
□ OpenID 静默家庭画像 (零感知数据资产积累)
□ 偏好持久化 (忌口/过敏/宝宝月龄/家庭人数云端存储)
□ 基础数据埋点 (功能使用频率/AI调用统计/留存漏斗)
□ 菜单卡片分享 (情绪资产，社交裂变种子)

Phase 2 (近期 3-6个月) ──────────────────────────────────
□ 🔥 "烟火集" Phase A: 贴纸掉落 + 基础日历 + 分享卡片
□ 🔥 "烟火集" Phase B: 四级稀有度 + 图鉴 + 段位 + 月度烟火墙
□ 虚拟冰箱镜像 v1 (购物入库 + 烹饪扣减 + 临期提醒)
□ 品牌食材库 (食材关联品牌标识，电商导流基础)
□ 通用组件库重构 (RecipeCard/StepTimeline/ShoppingItem)
□ 个性化推荐引擎 v1 (基于静默画像的偏好学习)
□ AI贴纸生成引擎 stickerGen (复用 recipeCoverGen 架构)
□ 菜谱库扩充至 500+
□ 单元测试覆盖核心算法

Phase 3 (中期 6-12个月) ──────────────────────────────────
□ 🔥 "烟火集" Phase C: 节气厨房 + 付费贴纸包 + VIP + 首批联名
□ 🔥 "烟火集" Phase D: 年度味道年报 + 实体商品 + 裂变机制
□ 🔥 厨房看板同步 (家庭协作烹饪 — 见下方详述)
□ 虚拟冰箱 v2 (智能补货 + 消耗趋势分析 + 零浪费勋章联动)
□ 营养计算与追踪 (热量/蛋白质/微量元素)
□ 菜谱社区 (UGC 导入分享)
□ 生鲜电商对接 (购物清单→一键下单)
□ Vue Web 版完善 (共享逻辑层，跨平台)
□ 设备冲突智能替换 (超限时主动推荐免火菜/烤箱菜)

Phase 4 (远期 12-24个月) ─────────────────────────────────
□ 多平台 (iOS/Android/Web)
□ B端解决方案 (幼儿园/月子中心/养老院营养配餐)
□ 国际化 (多语言/多菜系/海外华人市场)
□ 智能硬件对接 (智能秤/智能灶/智能冰箱)
□ AI 辅食顾问 (基于宝宝月龄+过敏史的个性化辅食方案)
```

#### 13.1.1 厨房看板同步 — 从"单机工具"到"家庭协作 SaaS"

**这是将 TableSync 的网络效应 (Network Effect) 从 N=1 提升到 N=家庭人数的关键功能。**

```
┌─────────────────────────────────────────────────────────────┐
│              厨房看板同步 (Kitchen Kanban Sync)               │
│                                                              │
│  场景: 主厨在厨房做饭，配偶在客厅带娃                          │
│                                                              │
│  主厨端 (厨房)              配偶端 (客厅)                     │
│  ┌──────────────┐          ┌──────────────┐                 │
│  │ 👨‍🍳 烹饪步骤   │          │ 📋 实时看板   │                 │
│  │              │  ──同步──▶│              │                 │
│  │ [✅ 排骨下锅] │          │ "排骨已下锅   │                 │
│  │ [⏳ 蒸鱼10分] │          │  请5分钟后摆台"│                 │
│  │ [🔜 快炒待启] │          │              │                 │
│  └──────────────┘          │ [帮忙事项]    │                 │
│                             │ □ 准备碗筷    │                 │
│                             │ □ 盛饭        │                 │
│                             │ □ 叫孩子洗手   │                 │
│                             └──────────────┘                 │
│                                                              │
│  技术实现:                                                    │
│  ├── 微信小程序实时数据推送 (wx.cloud.realtime)              │
│  ├── 分享二维码加入同一"餐桌"                                │
│  ├── 步骤完成状态实时同步                                    │
│  └── 智能摆台提醒 (基于剩余烹饪时间)                         │
│                                                              │
│  投资人视角:                                                  │
│  ├── 🔄 留存率: 家庭成员互相绑定，单人弃用概率降至极低       │
│  ├── 📈 DAU: N=1 → N=2-4 (一个家庭多个活跃用户)            │
│  ├── 🌐 网络效应: 用户邀请家人 = 免费获客                    │
│  └── 💡 品类升级: 从"菜谱工具"→"家庭协作平台"               │
│                                                              │
└─────────────────────────────────────────────────────────────┘
```

### 13.2 商业化路径

#### 概览：四层变现飞轮

```
┌─────────────────────────────────────────────────────────────┐
│                 商业化路径 — 四层变现飞轮                      │
│                                                              │
│  Layer 1: 免费增值 (Freemium) ───── 用户规模基础             │
│  Layer 2: 情绪资产 (Emotional Assets) ── 社交裂变引擎        │
│  Layer 3: 品牌食材库 (Branded Ingredients) ── 精准导流       │
│  Layer 4: 虚拟冰箱闭环 (Fridge Loop) ── 复购锁定            │
│                                                              │
│           ┌──────────┐                                       │
│           │ 用户使用  │                                       │
│           └────┬─────┘                                       │
│                ▼                                             │
│  ┌─────────────────────────────┐                             │
│  │ Layer 1: 免费增值            │                             │
│  │                              │                             │
│  │ 基础功能免费:                │                             │
│  │ ·菜单生成 ·购物清单 ·烹饪步骤│                             │
│  │                              │                             │
│  │ 高级功能付费 (¥9.9/月):     │                             │
│  │ ·🤖 AI无限次扫冰箱/导入     │                             │
│  │ ·📊 营养追踪报告            │                             │
│  │ ·👶 专业宝宝辅食方案        │                             │
│  │ ·📅 周/月菜单智能规划       │                             │
│  │ ·👨‍👩‍👧 厨房看板多人协作        │                             │
│  │ ·🧊 虚拟冰箱高级功能        │                             │
│  └─────────────┬───────────────┘                             │
│                ▼                                             │
│  ┌─────────────────────────────┐                             │
│  │ Layer 2: 情绪资产            │                             │
│  │ (Emotional Assets)          │                             │
│  │                              │                             │
│  │ 菜单卡片 = 可分享的"生活方式宣言"                         │
│  │                              │                             │
│  │ ·精美AI菜单卡片(含封面图)   │                             │
│  │  → 分享到朋友圈/家庭群       │                             │
│  │  → "今晚我给家人做了这些"    │                             │
│  │  → 自然传播，零成本获客      │                             │
│  │                              │                             │
│  │ ·烹饪完成成就卡             │                             │
│  │  → "本周已为家人做了5顿饭"   │                             │
│  │  → 情感价值 > 工具价值       │                             │
│  │                              │                             │
│  │ ·宝宝辅食记录卡             │                             │
│  │  → "宝宝今天尝试了第一口鳕鱼"│                             │
│  │  → 新手父母的社交货币        │                             │
│  │                              │                             │
│  │ 💡 用户不只是在用工具，       │                             │
│  │    是在参与一种"高品质生活方式"│                             │
│  └─────────────┬───────────────┘                             │
│                ▼                                             │
│  ┌─────────────────────────────┐                             │
│  │ Layer 3: 品牌食材库          │                             │
│  │ (Branded Ingredient Store)  │                             │
│  │                              │                             │
│  │ 场景:                        │                             │
│  │ ·用户扫冰箱识别"鸡胸肉"     │                             │
│  │  → AI生成菜单卡片标注        │                             │
│  │    "推荐: 圣农鸡胸肉 500g"  │                             │
│  │  → 链接至电商一键购买         │                             │
│  │                              │                             │
│  │ ·购物清单中食材关联品牌      │                             │
│  │  → "鳕鱼 → 推荐: 大希地      │                             │
│  │     阿拉斯加鳕鱼 200g"      │                             │
│  │  → CPS 佣金                 │                             │
│  │                              │                             │
│  │ ·品牌定制菜谱               │                             │
│  │  → "XX品牌橄榄油 × 3道菜"   │                             │
│  │  → 品牌方付费内容植入         │                             │
│  │                              │                             │
│  │ 💰 收入模式:                 │                             │
│  │ ·CPS 电商佣金 (5-15%)       │                             │
│  │ ·品牌年度合作 (品类独占)     │                             │
│  │ ·品牌定制菜谱 (内容营销)     │                             │
│  └─────────────┬───────────────┘                             │
│                ▼                                             │
│  ┌─────────────────────────────┐                             │
│  │ Layer 4: 虚拟冰箱闭环        │                             │
│  │ (Virtual Fridge Loop)       │                             │
│  │                              │                             │
│  │ 购买 → 入库 → 消耗 → 补货   │                             │
│  │   ↑                    │    │                             │
│  │   └────────────────────┘    │                             │
│  │                              │                             │
│  │ ·临期食材优先推荐            │                             │
│  │  → 减少食物浪费(公益价值)    │                             │
│  │ ·智能补货提醒               │                             │
│  │  → "鸡蛋快用完了，要补货吗？"│                             │
│  │  → 直连生鲜电商一键下单       │                             │
│  │ ·消耗数据分析               │                             │
│  │  → 家庭食材消费画像          │                             │
│  │  → 品牌方精准投放的数据基座   │                             │
│  │                              │                             │
│  │ 💡 这是最强的用户锁定:        │                             │
│  │    虚拟冰箱数据越用越准，      │                             │
│  │    迁移成本随时间指数增长      │                             │
│  └─────────────────────────────┘                             │
│                                                              │
│  ── 附加: B端 SaaS ──────────────────────────────────────   │
│  │                                                          │
│  │  机构营养配餐系统 (独立产品线):                           │
│  │  ├── 🏫 幼儿园餐食管理 (按月龄/过敏原自动配餐)          │
│  │  ├── 🏥 月子中心餐单规划 (产后营养定制)                  │
│  │  └── 🏠 养老院营养配餐 (慢病饮食管理)                    │
│  │                                                          │
│  │  💰 收入: SaaS订阅 ¥500-2000/月/机构                    │
│  │                                                          │
│  └──────────────────────────────────────────────────────    │
│                                                              │
└─────────────────────────────────────────────────────────────┘
```

#### 变现时间线预估

| 阶段 | 时间 | 变现层 | 预估月收入 |
|------|------|--------|-----------|
| **冷启动** | 0-3个月 | 情绪资产驱动自然增长，免费阶段 | ¥0 (获客) |
| **初步变现** | 3-6个月 | Freemium + 品牌食材库 CPS | ¥5K-20K |
| **规模化** | 6-12个月 | 品牌年度合作 + 电商导流 + 付费会员 | ¥50K-200K |
| **成熟期** | 12-24个月 | 虚拟冰箱闭环 + B端SaaS + 全渠道 | ¥500K+ |

---

## 14. 附录：技术规格表

### 14.1 项目规模统计

| 指标 | 数值 |
|------|------|
| 页面总数 | 10 |
| 云函数数量 | 5 |
| 开发工具脚本 | 12+ |
| 核心数据文件 | 8 |
| 逻辑模块 | 3 |
| 工具模块 | 7 |
| 总代码行数 (估算) | ~15,000+ |
| 菜谱数据量 | ~200道 (结构化) |
| 菜谱Schema字段 | 25+ |
| AI集成点 | 5个场景 |
| 外部API对接 | 4个 (Kimi/MiniMax/DALL·E/QWeather) |

### 14.2 页面文件清单

| 页面 | JS | WXML | WXSS | JSON | WXS | 其他 |
|------|-----|------|------|------|-----|------|
| home | ✅ | ✅ | ✅ | ✅ | ✅ | locationWeather.js, vibeGreeting.js |
| spinner | ✅ | ✅ | ✅ | ✅ | ✅ | — |
| preview | ✅ | ✅ | ✅ | ✅ | — | — |
| menu | ✅ | ✅ | ✅ | ✅ | — | — |
| steps | ✅ | ✅ | ✅ | ✅ | — | — |
| shopping | ✅ | ✅ | ✅ | ✅ | — | — |
| scan | ✅ | ✅ | ✅ | ✅ | — | — |
| import | ✅ | ✅ | ✅ | ✅ | — | — |
| mix | ✅ | ✅ | ✅ | ✅ | — | — |
| myRecipes | ✅ | ✅ | ✅ | ✅ | — | — |

### 14.3 云函数技术栈

| 云函数 | 运行时 | AI服务 | 关键依赖 |
|--------|--------|--------|----------|
| fridgeScan | Node.js | Kimi Vision + Chat | wx-server-sdk |
| smartMenuGen | Node.js | Kimi Chat | — |
| recipeImport | Node.js | Kimi Vision + Chat | wx-server-sdk |
| recipeCoverGen | Node.js | MiniMax / DALL·E | wx-server-sdk |
| getWeather | Node.js | — | — |

### 14.4 数据协议规范

```
用户偏好 (UserPreference):
{
  adultCount: 1-6,                     // 用餐人数
  hasBaby: boolean,                    // 是否有宝宝
  babyMonth: 6-36,                     // 宝宝月龄
  meatCount: 1-3,                      // 荤菜数量
  vegCount: 0-3,                       // 素菜数量
  soupCount: 0-1,                      // 汤品数量
  soupType: "meat" | "veg",           // 汤品类型
  avoidList: ["spicy", "seafood"...],  // 忌口列表
  dietStyle: "home"|"light"|"rich"|"quick", // 饮食风格
  isTimeSave: boolean                  // 省时模式
}
```

---

## 15. "烟火集" — 游戏化增长引擎与情绪经济体系

> **核心洞察**: 传统菜谱App是让用户"花钱买会员看谱子"，TableSync的"烟火集"体系让用户觉得自己在**"赚资产"** —— 每做一顿饭，就多一张数字藏品。这把"体力劳动"重新定义为"艺术创作"和"资产积累"。

### 15.1 体系定义：从"做完饭"到"集邮"

```
┌─────────────────────────────────────────────────────────────────────┐
│                                                                      │
│               🔥 TableSync 烟火集 (Fireside Collection)              │
│                                                                      │
│    "每一顿用心做的饭，都值得变成一张值得珍藏的艺术品"                  │
│                                                                      │
│  ┌─────────────────────────────────────────────────────────────┐    │
│  │                     核心循环                                  │    │
│  │                                                              │    │
│  │    做饭 ──→ 掉落贴纸 ──→ 贴进日历 ──→ 晒朋友圈              │    │
│  │     ↑                                      │                 │    │
│  │     └──────────── 成就感驱动 ←─────────────┘                 │    │
│  │                                                              │    │
│  └─────────────────────────────────────────────────────────────┘    │
│                                                                      │
│  体系构成:                                                           │
│  ├── 🎰 盲盒式贴纸掉落 (核心激励)                                   │
│  ├── 📅 冰箱贴风格日历 (成就可视化)                                  │
│  ├── 🏅 段位与勋章体系 (长期留存)                                    │
│  ├── 🎨 付费贴纸包 (审美变现)                                       │
│  ├── 🤝 品牌联名贴纸 (B2B裂变)                                     │
│  ├── 📊 年度味道年报 (社交炸弹)                                     │
│  └── 🌱 零浪费/食愈等公益线 (品牌价值)                              │
│                                                                      │
└─────────────────────────────────────────────────────────────────────┘
```

### 15.2 核心玩法一：盲盒式贴纸掉落

#### 触发时机

当用户在步骤页完成最后一步（`markCompleted` → 最后一步），当前的 `wx.showModal("料理完成！")` 将升级为**贴纸掉落动画**——像抽卡一样，一张精美的食物插画贴纸从屏幕中央翻转落下。

#### 稀有度体系

```
┌─────────────────────────────────────────────────────────────┐
│                    贴纸稀有度金字塔                            │
│                                                              │
│                        ╱╲                                    │
│                       ╱  ╲                                   │
│                      ╱ 传说 ╲    ← 0.5% 掉率               │
│                     ╱ Legend ╲      隐藏款/年度限定           │
│                    ╱──────────╲                               │
│                   ╱    闪卡    ╲   ← 5% 掉率                │
│                  ╱   Hologram  ╲    高难度/高效率达成         │
│                 ╱──────────────╲                              │
│                ╱    限定卡      ╲  ← 15% 掉率               │
│               ╱    Limited     ╲    节气/节日/天气限定        │
│              ╱──────────────────╲                             │
│             ╱      普卡          ╲ ← 79.5% 掉率             │
│            ╱     Common          ╲   日常家常菜              │
│           ╱──────────────────────╲                            │
│                                                              │
│  ─── 掉率加成机制 ──────────────────────────────────         │
│                                                              │
│  效率评分 > 40%     → 闪卡概率 ×2                           │
│  并行烹饪 ≥ 3道菜   → 限定卡概率 ×1.5                       │
│  连续7天做饭打卡     → 保底1张限定卡                          │
│  首次做某道菜        → 必得该菜品普卡                         │
│  宝宝辅食菜品        → 解锁"亲子系列"专属卡池                │
│                                                              │
│  ─── 稀有度视觉差异 ────────────────────────────────         │
│                                                              │
│  普卡:   扁平插画风，温暖色调，无特效边框                     │
│  限定卡: 精致工笔风，烫金边框，节气/天气元素点缀              │
│  闪卡:   3D黏土风格，全息闪光边框，微动效果                   │
│  传说:   水墨国风 / 赛博朋克风，流光动态边框                  │
│                                                              │
└─────────────────────────────────────────────────────────────┘
```

#### 掉落与菜品的绑定关系

```
每道菜 ──→ 对应唯一贴纸设计 (1:1映射)

示例:
├── 宫保鸡丁  → [普卡] 热辣红色系扁平插画，花生和辣椒环绕
├── 冬至饺子  → [限定·冬至] 雪花背景，蒸汽升腾的饺子盘
├── 红烧排骨 (效率>45%) → [闪卡] 3D黏土质感排骨，全息边框
├── 佛跳墙 (高难度) → [传说] 水墨风青花瓷盅，流光溢彩
└── 宝宝鳕鱼泥 → [亲子·普卡] 软萌Q版风格，小勺子和笑脸

未收集的菜品 = 灰色剪影 + "?" → 激发收集欲
```

### 15.3 核心玩法二：冰箱贴风格日历看板

**不用枯燥的文字列表，用一个"冰箱门"风格的可视化月历。**

```
┌─────────────────────────────────────────────────────────────┐
│                  📅 2026年2月 · 我的烟火集                     │
│                                                              │
│   日    一    二    三    四    五    六                       │
│  ┌────┬────┬────┬────┬────┬────┬────┐                       │
│  │    │    │    │    │    │    │ 1  │                       │
│  │    │    │    │    │    │    │ 🍳 │ ← 贴纸填入日期格       │
│  ├────┼────┼────┼────┼────┼────┼────┤                       │
│  │ 2  │ 3  │ 4  │ 5  │ 6  │ 7  │ 8  │                       │
│  │ 🥩 │    │ 🐟 │ 🥗 │ 🍲 │ ✨ │ 🧸 │                       │
│  │    │    │    │    │    │闪卡│亲子│                        │
│  ├────┼────┼────┼────┼────┼────┼────┤                       │
│  │ 9  │ 10 │ 11 │ 12 │ 13 │ 14 │ 15 │                       │
│  │    │ 🍜 │ 🥟 │    │ 🫕 │ 💝 │ 🎊 │                       │
│  │    │    │    │    │    │情人│限定│                        │
│  └────┴────┴────┴────┴────┴────┴────┘                       │
│                                                              │
│  本月统计:                                                    │
│  ├── 做饭 12 次 │ 收集 14 张贴纸                             │
│  ├── 闪卡 1 张  │ 限定卡 2 张                               │
│  ├── 新菜品 3 道 │ 并行效率均值 38%                          │
│  └── 🏅 月度成就: "二月烟火不打烊"                            │
│                                                              │
│  [查看贴纸图鉴]  [分享月度烟火墙]  [生成年度味道年报]        │
│                                                              │
│  视觉风格:                                                    │
│  ·冰箱门质感背景 (浅灰磨砂+磁吸效果)                         │
│  ·贴纸有"微微歪斜"的随机角度 (拟物感)                         │
│  ·点击贴纸放大 → 显示该餐详情(菜品/人数/效率)               │
│  ·空白日期 = 浅色虚线框 (暗示"今天还没做饭哦")               │
│                                                              │
└─────────────────────────────────────────────────────────────┘
```

### 15.4 核心玩法三：段位与勋章体系 — 长期留存引擎

```
┌─────────────────────────────────────────────────────────────┐
│                   🏅 厨房段位系统                              │
│                                                              │
│  Lv.1  🥄 菜鸟学徒        0-10次     灰色边框段位徽章       │
│  Lv.2  🍳 家常新手        11-30次    铜色边框               │
│  Lv.3  🔪 备菜达人        31-60次    银色边框               │
│  Lv.4  🫕 流水线大师      61-120次   金色边框               │
│  Lv.5  👨‍🍳 烟火传说       121次+     虹彩边框 + 专属传说卡池 │
│                                                              │
│  段位加成:                                                    │
│  ├── 每升一级 → 解锁该段位专属贴纸边框样式                   │
│  ├── Lv.3+ → 解锁"自定义贴纸背景色"                         │
│  ├── Lv.4+ → 解锁"贴纸图鉴收藏夹"功能                      │
│  └── Lv.5  → 解锁"传说"稀有度卡池 + 年度实体台历权益        │
│                                                              │
│  ─── 特殊勋章系列 ──────────────────────────────────         │
│                                                              │
│  🌿 零浪费英雄     虚拟冰箱食材全部用完(无过期) × 3次        │
│  🌡 节气守护者     集齐当月所有节气限定贴纸                   │
│  👶 辅食先锋       为宝宝做满30种不同辅食                     │
│  ⚡ 效率之神       单次并行效率评分 > 50%                    │
│  🔥 七日不灭       连续7天每天做饭打卡                        │
│  🎨 美食收藏家     集齐某一菜系全部贴纸(如"川菜全家福")     │
│  🌍 四季食旅       春夏秋冬各至少做10次饭                    │
│  💝 家庭守护者     为家人做满100顿饭                          │
│                                                              │
│  勋章 = 高价值社交货币 (可在个人主页/分享卡片中展示)          │
│                                                              │
└─────────────────────────────────────────────────────────────┘
```

### 15.5 延伸玩法：味道年报、食愈处方与节气厨房

#### 15.5.1 年度味道年报 (Flavor Wrapped)

**灵感来源**: Spotify Wrapped —— 每年最病毒式传播的社交内容。

```
┌─────────────────────────────────────────────────────────────┐
│          🎊 2026 你的年度味道年报                              │
│                                                              │
│  "这一年，你为家人烹饪了 287 顿饭"                            │
│                                                              │
│  📊 年度数据                                                  │
│  ├── 做饭 287 次 | 节省时间 4,830 分钟 (≈ 80小时)           │
│  ├── 收集贴纸 312 张 | 闪卡 18 张 | 传说 2 张               │
│  ├── 最爱食材 TOP3: 🍅番茄 🥚鸡蛋 🧄大蒜                   │
│  ├── 最擅长: 快炒 (效率均值 42%)                             │
│  └── 并行烹饪为你省出: 80小时 ≈ 看40部电影                  │
│                                                              │
│  🎨 你的味道DNA                                               │
│  ┌────────────────────────────┐                              │
│  │  咸鲜 ████████████ 38%    │                              │
│  │  微辣 ██████████ 28%      │                              │
│  │  清淡 ██████ 18%          │                              │
│  │  酸鲜 ████ 12%            │                              │
│  │  甜酸 █ 4%                │                              │
│  └────────────────────────────┘                              │
│                                                              │
│  💝 温暖时刻                                                  │
│  "2月14日，你在雨天为家人做了红烧排骨+清蒸鱼"                 │
│  "6月1日，你给宝宝做了第一份鳕鱼泥"                          │
│  "除夕夜，你做了今年最丰盛的一餐: 6菜1汤，效率58%"          │
│                                                              │
│  [生成长图分享] [定制实体年报台历]                             │
│                                                              │
│  💡 传播力预估:                                               │
│  Spotify Wrapped 每年带来 6000万+ 社交分享                   │
│  "味道年报" 精准命中家庭主厨的情感共鸣点                     │
│  一张年报长图 = 一次高质量的免费品牌曝光                      │
│                                                              │
└─────────────────────────────────────────────────────────────┘
```

#### 15.5.2 食愈处方 (Food Therapy Cards)

利用已有的"心情选择"功能（开心/疲惫/馋了/随便），追踪「心情→做饭→餐后满足感」的闭环，生成趣味"食愈处方"贴纸。

```
示例:
┌─────────────────────────────────┐
│  🩺 食愈处方 #042               │
│                                  │
│  症状: 周一综合症 (疲惫)        │
│  处方: 红烧排骨 + 番茄蛋汤      │
│  疗效: ████████████ 98%         │
│                                  │
│  "红烧排骨治好了你的周一"       │
│  2026.02.03 · 为2人烹饪        │
│                                  │
│  [收藏到食愈处方集]              │
└─────────────────────────────────┘

· 独特的社交传播力: "看我的食愈处方集" > "看我做了什么菜"
· 轻巧的情感表达: 把一顿饭的意义从"果腹"升华为"治愈"
```

#### 15.5.3 节气厨房 (24 Solar Terms Kitchen)

**24个节气 = 24次天然的限定活动 = 全年自带节奏的运营节点**

```
┌─────────────────────────────────────────────────────────────┐
│               🌿 节气厨房 · 24节气限定系列                     │
│                                                              │
│  每个节气 (≈15天):                                           │
│  ├── 解锁 2-3 道节气专属菜谱                                │
│  ├── 完成后掉落 [限定·节气] 贴纸                             │
│  ├── 集齐该节气全部贴纸 → 获得节气勋章                       │
│  └── 错过即绝版 (FOMO效应 → 次年同期再次开放)               │
│                                                              │
│  示例:                                                       │
│  ├── 🌸 立春 (2月4日): 春卷、荠菜馄饨           → 新绿色系  │
│  ├── 🌧 雨水 (2月19日): 红枣银耳汤、山药排骨    → 雾蓝色系  │
│  ├── ☀️ 大暑 (7月23日): 冬瓜汤、凉拌黄瓜       → 冰蓝色系  │
│  ├── 🍂 秋分 (9月23日): 桂花糯米藕、板栗鸡      → 琥珀色系  │
│  ├── ❄️ 冬至 (12月22日): 饺子、羊肉汤          → 暖红色系  │
│  └── 🧨 除夕 (特别): 年夜饭限定系列 (6+菜)     → 金红色系  │
│                                                              │
│  投资人价值:                                                  │
│  ├── 📅 全年24个自然运营节点，无需额外策划                   │
│  ├── ⏰ FOMO驱动: "大暑还剩3天，你还差1张冬瓜汤贴纸"       │
│  ├── 🔄 年年复购: 去年的贴纸有"2025"年份标记，今年是新版   │
│  └── 🇨🇳 文化认同: 节气 × 食物 = 天然的中国文化IP           │
│                                                              │
└─────────────────────────────────────────────────────────────┘
```

#### 15.5.4 城市味道 · 地域限定 (Regional Flavor Map)

利用已有的定位权限（`scope.userLocation`），解锁地域限定贴纸。

```
示例:
├── 📍 广东用户 → 解锁"老火靓汤系列" (限定色系: 暖陶色)
├── 📍 四川用户 → 解锁"川味江湖系列" (限定色系: 火红)
├── 📍 江浙用户 → 解锁"江南细味系列" (限定色系: 水墨青)
└── 📍 东北用户 → 解锁"铁锅炖系列"   (限定色系: 铸铁灰)

跨城收集: 用户旅行/搬家后可解锁新地域 → 激发"全国味道地图"收集欲
```

### 15.6 商业化：三驾马车变现模型

#### 15.6.1 审美付费 — 贴纸包经济

```
┌─────────────────────────────────────────────────────────────┐
│              💰 贴纸包付费体系                                 │
│                                                              │
│  ─── 主题贴纸包 (¥6-12/包) ───────────────────────          │
│                                                              │
│  🎮 像素风菜谱系列      复古8-bit风格食物贴纸                │
│  🎨 莫奈油画系列        印象派油画质感美食                    │
│  🤖 赛博朋克厨房系列    霓虹灯光+未来感厨具                  │
│  🏯 国潮水墨系列        中国风水墨美食画                     │
│  🧸 黏土手作系列        3D Clay Art 萌系食物                 │
│  🌸 二十四节气全集      24张一套，收藏级                     │
│                                                              │
│  每包含 8-12 张主题贴纸 + 1张随机闪卡                        │
│                                                              │
│  ─── 高级权益 (¥19.9/月 VIP) ──────────────────────          │
│                                                              │
│  ·每月免费领取1个主题贴纸包                                  │
│  ·闪卡掉率翻倍                                              │
│  ·解锁自定义贴纸边框 & 日历主题                              │
│  ·年度味道年报高清定制版                                     │
│  ·优先参与联名活动                                          │
│                                                              │
│  ─── 实体转化 (高客单价 ¥49-199) ──────────────────          │
│                                                              │
│  📅 年度烟火台历        印制全年贴纸日历 → 实体台历          │
│  📓 季度贴纸手账本      精装实体贴纸本 + 手写食记页          │
│  🧲 实体冰箱贴套装      把你最爱的6张贴纸做成冰箱贴          │
│  🎁 年度礼盒            台历 + 冰箱贴 + 围裙 + 限定卡       │
│                                                              │
│  💡 定价策略:                                                 │
│  ·数字贴纸包: 低价高频，月ARPU ¥3-8                        │
│  ·VIP订阅: 中价稳定，月ARPU ¥19.9                          │
│  ·实体商品: 高价低频，年末/节日集中转化                      │
│  ·预估综合 ARPU: ¥8-15/月/活跃用户                          │
│                                                              │
└─────────────────────────────────────────────────────────────┘
```

#### 15.6.2 品牌联名 — B2B 裂变引擎

```
┌─────────────────────────────────────────────────────────────┐
│              🤝 品牌联名贴纸 — 双向导流                       │
│                                                              │
│  模式A: 品牌限定贴纸 (品牌→TableSync)                        │
│  ──────────────────────────────────                          │
│  品牌在商品包装上印:                                          │
│  "扫码打卡，领取限定版 [李锦记×烟火集] 联名贴纸"             │
│         │                                                    │
│         ▼                                                    │
│  用户扫码 → 下载/打开小程序 → 获得联名贴纸                   │
│         │                                                    │
│         ▼                                                    │
│  用户开始使用 TableSync 做饭 → 留存                          │
│                                                              │
│  效果: 获客成本由品牌方分摊 (CAC → 0)                        │
│                                                              │
│  模式B: 烹饪解锁贴纸 (TableSync→品牌)                        │
│  ──────────────────────────────────                          │
│  "用 [摩飞多功能锅] 做完这道菜，解锁限定闪卡"               │
│  "本周用 [太太乐鸡精] 的菜谱，集齐3张领联名套装"            │
│         │                                                    │
│         ▼                                                    │
│  用户为了集卡 → 购买品牌产品 → 品牌付费给TableSync           │
│                                                              │
│  效果: 品牌为"集卡需求"买单 (CPA ¥5-20/用户)               │
│                                                              │
│  模式C: 节气联名限定 (高溢价)                                │
│  ──────────────────────────────────                          │
│  "冬至 × [思念食品] 联名饺子贴纸"                            │
│  "中秋 × [美心月饼] 联名月饼贴纸"                            │
│                                                              │
│  每个节气限1-2个品牌合作 → 稀缺性 → 高报价                  │
│                                                              │
│  ─── 品牌合作收入预估 ──────────────────────────             │
│                                                              │
│  │ 合作类型     │ 单次报价     │ 年频次  │ 年收入预估  │     │
│  │─────────────│─────────────│────────│────────────│     │
│  │ 品类年度独占  │ ¥50-200K    │ 3-5个  │ ¥150-1000K │     │
│  │ 节气联名限定  │ ¥20-80K     │ 12次   │ ¥240-960K  │     │
│  │ 扫码获客分摊  │ CPA ¥5-20  │ 持续   │ 按量       │     │
│  │ 品牌定制菜谱  │ ¥10-30K    │ 24次   │ ¥240-720K  │     │
│                                                              │
└─────────────────────────────────────────────────────────────┘
```

#### 15.6.3 社交裂变 — 用户自发成为"自来水"

```
┌─────────────────────────────────────────────────────────────┐
│              📣 裂变机制设计                                   │
│                                                              │
│  机制1: 月度烟火墙分享                                       │
│  ─────────────────────────                                   │
│  单发一张菜谱没人看，但发一张"本月烟火墙"到朋友圈/小红书，   │
│  那是自带流量的"生活美学"。                                   │
│                                                              │
│  自动生成精美长图:                                            │
│  ·冰箱贴日历截图 + 本月统计 + 代表贴纸 + 段位徽章            │
│  ·底部带TableSync水印 + 小程序码                             │
│  ·"扫码查看我的烟火集" → 新用户入口                          │
│                                                              │
│  机制2: 集卡助力                                              │
│  ─────────────────────────                                   │
│  "还差1张 [脆皮烧肉] 贴纸集齐本月勋章？                      │
│   分享给好友，请TA帮你统筹一顿饭即可获得。"                   │
│                                                              │
│  好友点击 → 打开TableSync → 体验一次菜单生成 → 留存          │
│                                                              │
│  机制3: 家庭贴纸图鉴对比                                      │
│  ─────────────────────────                                   │
│  "你的烟火集: 128张 | 你好友平均: 95张"                      │
│  → 竞争心理驱动更多烹饪 → 更多贴纸 → 更多分享               │
│                                                              │
│  机制4: 年度味道年报刷屏                                      │
│  ─────────────────────────                                   │
│  每年12月底/1月初集中推送 → 类Spotify Wrapped刷屏效应        │
│  预估: 活跃用户分享率 30-50% (情感共鸣 + 攀比心理)           │
│                                                              │
│  ─── 裂变漏斗预估 ──────────────────────────────────         │
│                                                              │
│  分享1张烟火墙 → 平均曝光 200人 → 10人扫码 → 3人使用        │
│  K系数(病毒系数) 预估: 1.2-1.8 (>1即自增长)                 │
│                                                              │
└─────────────────────────────────────────────────────────────┘
```

### 15.7 技术实现方案

#### 15.7.1 新增架构层：动态资产层 (Dynamic Asset Layer)

```
┌─────────────────────────────────────────────────────────────┐
│                    架构层级更新                                │
│                                                              │
│  现有架构:                                                    │
│  页面层 → 逻辑层 → 数据层 → 工具层                           │
│                                                              │
│  新增:                                                       │
│  页面层 → 逻辑层 → 数据层 → 工具层                           │
│                      ↕                                       │
│              ┌───────────────┐                               │
│              │ 🎨 动态资产层  │  ← NEW                       │
│              │ Asset Layer   │                               │
│              │               │                               │
│              │ ·贴纸引擎     │  生成/缓存/展示               │
│              │ ·掉落系统     │  概率/加成/保底               │
│              │ ·图鉴管理     │  收集状态/稀有度              │
│              │ ·日历数据     │  打卡/贴纸/成就               │
│              │ ·段位计算     │  经验值/等级/勋章             │
│              └───────────────┘                               │
│                      ↕                                       │
│              ┌───────────────┐                               │
│              │ 云函数(新增)   │                               │
│              │ stickerGen    │  AI贴纸图片生成               │
│              └───────────────┘                               │
│                                                              │
└─────────────────────────────────────────────────────────────┘
```

#### 15.7.2 AI贴纸生成引擎 — 复用已有基础设施

```
现有资产 (可直接复用):
├── recipeCoverGen 云函数框架        → 改为 stickerGen
├── MiniMax Image API (image-01)    → 切换 prompt 风格
├── cover-prompt.js 模板系统         → 扩展贴纸 prompt 模板
├── 云存储上传/管理流程              → 贴纸图片存储
└── openai-image.js (DALL·E 备选)   → 备用生成渠道

新增 Prompt 模板体系:

┌────────────────────────────────────────────────────────┐
│  STICKER_TEMPLATES = {                                  │
│                                                         │
│    common: {                                            │
│      style: 'flat illustration',                        │
│      prompt: '{{dish_name}}, cute flat illustration,    │
│               food sticker style, warm color palette,   │
│               white outline, no background,             │
│               kawaii, simple, clean'                     │
│    },                                                   │
│                                                         │
│    limited_solar: {                                     │
│      style: 'fine-line watercolor',                     │
│      prompt: '{{dish_name}}, delicate watercolor        │
│               illustration, {{solar_term}} elements,    │
│               gold foil border, seasonal colors,        │
│               sticker style, no background'             │
│    },                                                   │
│                                                         │
│    hologram: {                                          │
│      style: '3D clay art',                              │
│      prompt: '{{dish_name}}, 3D clay art style,         │
│               puffy cute, iridescent holographic,       │
│               glossy, studio lighting, sticker,         │
│               no background'                            │
│    },                                                   │
│                                                         │
│    legend: {                                            │
│      style: 'ink painting',                             │
│      prompt: '{{dish_name}}, Chinese ink painting,      │
│               splash ink style, dynamic composition,    │
│               luxury gold accents, masterpiece,         │
│               sticker, no background'                   │
│    }                                                    │
│  }                                                      │
│                                                         │
│  // 每种风格对应一种稀有度的视觉语言                     │
│  // prompt中的 no background 确保贴纸可叠加到日历上      │
│                                                         │
└────────────────────────────────────────────────────────┘

预生成 vs 实时生成策略:
├── 原生菜谱库(~200道) → 预生成全部稀有度贴纸，存入云存储
├── 节气/限定系列       → 提前1周批量生成
├── 导入菜谱(用户UGC)  → 实时生成普卡，异步生成闪卡
└── 联名系列           → 品牌提供设计素材 + AI融合生成
```

#### 15.7.3 贴纸元数据模型

```javascript
// ── 贴纸定义 (StickerDef) ──────────────────────────
{
  stickerId: "kung_pao_chicken_common_v1",
  recipeId: "chicken_kung_pao",           // 绑定菜品
  recipeName: "宫保鸡丁",
  rarity: "common|limited|hologram|legend",
  series: "home_cooking",                  // 系列: home_cooking/solar_term/regional/collab
  solarTerm: null,                         // 节气(限定卡): "dongzhi"
  region: null,                            // 地域(地域卡): "sichuan"
  brand: null,                             // 联名品牌: "lkk" (李锦记)
  imageUrl: "cloud://xxx/stickers/...",    // 贴纸图片URL
  thumbnailUrl: "cloud://xxx/stickers/thumb/...",
  style: "flat_illustration",              // 视觉风格
  year: 2026,                              // 年份(限定卡年年不同)
  version: 1,                              // 版本号
}

// ── 用户贴纸实例 (UserSticker) ──────────────────────
{
  id: "us_20260207_001",
  stickerId: "kung_pao_chicken_common_v1",
  userId: "openid_xxx",                    // 用户OpenID
  earnedAt: "2026-02-07T18:30:00Z",       // 获得时间
  earnedFrom: "cooking_complete",          // 获得方式
  cookingContext: {                         // 烹饪上下文(贴纸的"灵魂")
    date: "2026-02-07",
    dishes: ["宫保鸡丁", "番茄蛋汤"],
    adultCount: 3,
    hasBaby: true,
    efficiencyScore: 42,                   // 并行效率
    parallelDishes: 2,                     // 并行菜数
    mood: "开心",                           // 当时心情
    weather: "晴 8°C",                     // 当时天气
  },
  isNew: true,                             // 是否未查看(小红点)
  isPinned: false,                         // 是否固定在日历
}

// ── 用户图鉴 (UserCollection) ──────────────────────
{
  userId: "openid_xxx",
  totalStickers: 128,                      // 总收集数
  uniqueStickers: 89,                      // 去重收集数
  rarityBreakdown: {
    common: 72, limited: 12, hologram: 4, legend: 1
  },
  seriesProgress: {
    "home_cooking": { collected: 45, total: 200 },
    "solar_2026_lichun": { collected: 2, total: 3 },
    "regional_sichuan": { collected: 5, total: 15 }
  },
  tier: "Lv.3",                            // 段位
  tierName: "备菜达人",
  totalCookCount: 52,                      // 累计做饭次数
  badges: ["七日不灭", "效率之神"],         // 已获勋章
  currentStreak: 5,                        // 当前连续打卡天数
}

// ── 日历数据 (CalendarDay) ──────────────────────────
{
  date: "2026-02-07",
  userId: "openid_xxx",
  cooked: true,
  stickerIds: ["us_20260207_001", "us_20260207_002"],
  primarySticker: "us_20260207_001",       // 日历上显示的主贴纸
  dishes: ["宫保鸡丁", "番茄蛋汤"],
  mood: "开心",
  efficiencyScore: 42,
}
```

#### 15.7.4 步骤页完成 → 贴纸掉落的注入点

```javascript
// 现有代码 (steps.js L1231-1245):
// if (step.id === lastId) {
//   wx.showModal({ title: '料理完成！', ... });
// }

// 升级方案:
// if (step.id === lastId) {
//   // 1. 计算本次烹饪的掉落结果
//   var dropResult = stickerEngine.rollDrop({
//     dishes: this.data.currentDishes,
//     efficiencyScore: this.data.schedulePreview.efficiency,
//     parallelCount: this.data.currentDishes.length,
//     mood: this.data.mood,
//     streak: userCollection.currentStreak,
//   });
//
//   // 2. 跳转到贴纸掉落动画页(全屏沉浸式)
//   wx.navigateTo({
//     url: '/pages/stickerDrop/stickerDrop?result=' + JSON.stringify(dropResult)
//   });
//
//   // 3. 动画结束后 → 自动存入日历 + 更新图鉴 + 提示分享
// }
```

### 15.8 分阶段落地策划

```
┌─────────────────────────────────────────────────────────────────────┐
│                 "烟火集" 分阶段落地路线图                             │
│                                                                      │
│  ═══════════════════════════════════════════════════════════════     │
│  Phase A: 基础骨架 (1-2个月)                                         │
│  目标: 最小可行的贴纸体系，验证核心假设                               │
│  ═══════════════════════════════════════════════════════════════     │
│                                                                      │
│  开发项:                                                             │
│  ✦ 贴纸掉落入口                                                     │
│    ·修改 steps.js 完成逻辑 → 跳转掉落页                             │
│    ·开发 stickerDrop 页面 (翻牌动画 + 贴纸展示)                     │
│    ·仅支持"普卡" (扁平插画风)                                       │
│                                                                      │
│  ✦ 预生成贴纸库 (利用已有工具链)                                     │
│    ·基于 recipeCoverGen 框架开发 stickerGen 云函数                   │
│    ·为前50道高频菜品预生成普卡贴纸                                   │
│    ·存入云存储，本地缓存                                             │
│                                                                      │
│  ✦ 基础日历页                                                       │
│    ·新增 calendar 页面 (月视图 + 贴纸展示)                          │
│    ·日历数据存入本地Storage (暂不上云)                               │
│    ·点击日期 → 查看当天烹饪详情                                     │
│                                                                      │
│  ✦ 基础分享                                                         │
│    ·贴纸掉落后 → "分享到朋友圈" 按钮                                │
│    ·canvas 绘制分享卡片 (贴纸 + 菜品名 + 日期)                     │
│                                                                      │
│  验证指标:                                                           │
│  ·完成率: 走到步骤末尾的用户比例是否提升                             │
│  ·分享率: 获得贴纸后主动分享的比例 (目标>15%)                        │
│  ·次日留存: 贴纸用户 vs 非贴纸用户的留存差异                         │
│                                                                      │
│  预估工作量: 前端 3周 + 云函数 1周 + 贴纸素材生成 1周               │
│                                                                      │
│  ═══════════════════════════════════════════════════════════════     │
│  Phase B: 稀有度与图鉴 (2-3个月)                                     │
│  目标: 完整的收集体系，让用户"上瘾"                                   │
│  ═══════════════════════════════════════════════════════════════     │
│                                                                      │
│  开发项:                                                             │
│  ✦ 四级稀有度体系                                                   │
│    ·普卡(扁平插画) + 限定卡(工笔风) + 闪卡(3D黏土) + 传说(水墨)    │
│    ·概率引擎 (掉率+效率加成+连续打卡保底)                            │
│    ·为全部~200道菜品生成4种稀有度贴纸                                │
│                                                                      │
│  ✦ 图鉴系统                                                         │
│    ·新增 collection 页面 (贴纸图鉴 + 收集进度)                      │
│    ·未收集 = 灰色剪影 + "?"                                        │
│    ·系列分组 (家常/川菜/粤菜/汤品...)                               │
│                                                                      │
│  ✦ 段位系统                                                         │
│    ·5级段位 + 经验值                                                │
│    ·段位徽章在个人主页和分享卡片中展示                                │
│                                                                      │
│  ✦ 月度烟火墙                                                       │
│    ·月度统计面板 (做饭次数/贴纸数/闪卡数)                           │
│    ·一键生成"月度烟火墙"分享长图                                    │
│                                                                      │
│  ✦ 数据上云                                                         │
│    ·贴纸/图鉴/日历数据存入云DB (OpenID关联)                         │
│    ·与Phase 1.5的静默画像打通                                       │
│                                                                      │
│  验证指标:                                                           │
│  ·图鉴完成度: 用户平均收集百分比 (目标>30%)                          │
│  ·月度分享: 烟火墙分享率 (目标>20%)                                  │
│  ·7日留存: 有贴纸体系的用户 (目标>40%)                               │
│                                                                      │
│  预估工作量: 前端 4周 + 后端 2周 + AI贴纸批量生成 2周               │
│                                                                      │
│  ═══════════════════════════════════════════════════════════════     │
│  Phase C: 节气 × 付费 × 联名 (3-6个月)                              │
│  目标: 打通商业化，开始产生收入                                       │
│  ═══════════════════════════════════════════════════════════════     │
│                                                                      │
│  开发项:                                                             │
│  ✦ 节气厨房系统                                                     │
│    ·24节气菜谱 + 限定贴纸                                          │
│    ·节气倒计时 + FOMO提示                                           │
│    ·节气勋章                                                        │
│                                                                      │
│  ✦ 付费贴纸包                                                       │
│    ·微信支付接入                                                    │
│    ·贴纸包商城页面                                                  │
│    ·首批2-3个主题包 (像素风/莫奈/黏土)                              │
│                                                                      │
│  ✦ VIP 订阅                                                         │
│    ·¥19.9/月 VIP 权益 (闪卡翻倍/自定义/免费包)                     │
│    ·微信小程序内购流程                                              │
│                                                                      │
│  ✦ 首批品牌联名                                                     │
│    ·接洽 1-2 个食材/调料品牌                                       │
│    ·品牌限定贴纸设计 + 扫码领取流程                                 │
│    ·品牌合作数据面板                                                │
│                                                                      │
│  ✦ 食愈处方 & 味道DNA                                               │
│    ·心情追踪 → 食愈处方卡生成                                      │
│    ·口味偏好可视化 (味道DNA雷达图)                                  │
│                                                                      │
│  验证指标:                                                           │
│  ·付费转化率 (目标>5%活跃用户)                                      │
│  ·贴纸包月销量                                                      │
│  ·品牌联名ROI                                                       │
│                                                                      │
│  预估工作量: 前端 6周 + 后端 3周 + 运营/商务 持续                   │
│                                                                      │
│  ═══════════════════════════════════════════════════════════════     │
│  Phase D: 社交裂变 × 实体 × 年报 (6-12个月)                         │
│  目标: 规模化增长，打通线上线下                                       │
│  ═══════════════════════════════════════════════════════════════     │
│                                                                      │
│  开发项:                                                             │
│  ✦ 集卡助力裂变                                                     │
│    ·好友助力获卡机制                                                │
│    ·家庭图鉴对比                                                    │
│                                                                      │
│  ✦ 年度味道年报 (Flavor Wrapped)                                    │
│    ·年度数据汇总 + 味道DNA + 温暖时刻                              │
│    ·自动生成分享长图                                                │
│    ·12月底集中推送 (Spotify Wrapped模式)                            │
│                                                                      │
│  ✦ 实体商品                                                         │
│    ·对接印刷服务商 (台历/冰箱贴/手账)                              │
│    ·小程序内一键下单                                                │
│    ·年末礼盒 (限量编号)                                            │
│                                                                      │
│  ✦ 地域限定系列                                                     │
│    ·基于定位解锁地域贴纸                                           │
│    ·城市味道地图可视化                                              │
│                                                                      │
│  ✦ 零浪费英雄 (ESG线)                                               │
│    ·虚拟冰箱联动: 食材零浪费 → 绿色勋章                            │
│    ·ESG品牌故事 (投资人/PR价值)                                    │
│                                                                      │
│  验证指标:                                                           │
│  ·年报分享率 (目标>40%活跃用户)                                     │
│  ·实体商品转化率                                                    │
│  ·K系数(病毒系数) (目标>1.2)                                       │
│  ·品牌合作年收入 (目标>¥500K)                                      │
│                                                                      │
└─────────────────────────────────────────────────────────────────────┘
```

### 15.9 投资人核心论述

```
┌─────────────────────────────────────────────────────────────┐
│           为什么"烟火集"是 TableSync 的增长飞轮？             │
│                                                              │
│  1. 重新定义了"做饭"的心理模型                                │
│     ·传统: 做饭 = 家务劳动 (消耗)                           │
│     ·烟火集: 做饭 = 创作 + 收藏 + 社交货币 (积累)           │
│                                                              │
│  2. 三个"越用越值钱"的飞轮                                   │
│     ·数据飞轮: 贴纸越多 → 画像越准 → 推荐越好 → 用更多     │
│     ·社交飞轮: 贴纸越美 → 越想晒 → 曝光越多 → 新用户来    │
│     ·商业飞轮: 用户越多 → 品牌越愿意联名 → 贴纸越好       │
│                          → 用户越想收集 → 用户更多          │
│                                                              │
│  3. 解决了菜谱App的"用完即走"困境                            │
│     ·传统菜谱App: 学会了就不来了 (DAU天花板低)              │
│     ·烟火集: 每天来看看日历、刷刷图鉴、集集卡               │
│     ·日活从"做饭时打开"变成"每天打开"                       │
│                                                              │
│  4. 成本结构优势                                              │
│     ·获客: 社交裂变(K>1) → CAC趋近于0                      │
│     ·内容生产: AI生成贴纸 → 边际成本趋近于0                │
│     ·联名收入: 品牌方付费 → 甚至可以"负成本获客"            │
│                                                              │
│  5. 竞争壁垒                                                  │
│     ·下厨房/美团菜谱可以抄功能，但抄不走:                   │
│       - 200道菜×4种稀有度 = 800张预生成贴纸资产              │
│       - 24节气×年份 = 永远增长的限定系列                     │
│       - 用户积累的图鉴/段位/日历 = 极高迁移成本             │
│       - 品牌联名的先发合作关系                               │
│                                                              │
│  6. 对标参考                                                  │
│     ·多邻国 (Duolingo): 连续打卡+成就体系 → 日活增长300%    │
│     ·泡泡玛特: 盲盒收藏 → 年收入60亿+                      │
│     ·Spotify Wrapped: 年度报告 → 6000万+免费社交传播        │
│     ·烟火集 = 多邻国的留存 × 泡泡玛特的收藏 × Wrapped的传播│
│                                                              │
└─────────────────────────────────────────────────────────────┘
```

---

> **文档编制**: TableSync 产品与技术团队  
> **最后更新**: 2026年2月7日  
> **版本**: v3.0（战略增强 + 游戏化增长引擎）  
> **保密等级**: 投资人内部参阅  
> **v2.0 更新**: 设备冲突检测、并行效率对比图、虚拟冰箱镜像、OpenID静默画像、厨房看板协作、四层变现飞轮  
> **v3.0 更新**: "烟火集"游戏化增长引擎完整体系——盲盒贴纸掉落、冰箱贴日历、段位勋章、味道年报、食愈处方、节气厨房、地域限定、品牌联名、审美付费、社交裂变、AI贴纸引擎技术方案、四阶段落地路线图

---

*Eat. Connect. Automate.* 🍽
