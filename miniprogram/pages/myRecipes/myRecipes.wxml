<!--pages/myRecipes/myRecipes.wxml - 视觉与首页一致 -->
<view class="myrecipes-container">
  <!-- 与首页入口一致的头部卡片 -->
  <view class="myrecipes-header-card">
    <view class="myrecipes-header-icon-wrap">
      <text class="myrecipes-header-icon">📚</text>
    </view>
    <view class="myrecipes-header-text-wrap">
      <text class="myrecipes-title">我的菜谱库</text>
      <text class="myrecipes-subtitle">过去导入的菜谱，今天继续做</text>
    </view>
    <view class="myrecipes-refresh-wrap" bindtap="onRefresh">
      <text class="myrecipes-refresh-text">刷新</text>
    </view>
  </view>

  <view class="myrecipes-loading" wx:if="{{loading}}">
    <text class="myrecipes-loading-text">加载中...</text>
  </view>

  <view class="myrecipes-empty-card" wx:elif="{{empty}}">
    <text class="myrecipes-empty-icon">📚</text>
    <text class="myrecipes-empty-text">还没有导入过菜谱</text>
    <text class="myrecipes-empty-hint">在「导入赛博菜谱」中保存的菜谱会出现在这里</text>
    <view class="myrecipes-empty-btn" bindtap="onGoImport">去导入</view>
  </view>

  <view wx:else class="myrecipes-list-wrap">
    <view class="myrecipes-refresh-tip" wx:if="{{!loading}}">下拉页面可刷新列表</view>
    <view class="myrecipes-list">
      <view
        class="myrecipes-card"
        wx:for="{{recipeList}}"
        wx:key="id"
      >
        <view class="myrecipes-card-cover" wx:if="{{item.displayCoverUrl}}">
          <image class="myrecipes-cover-img" src="{{item.displayCoverUrl}}" mode="aspectFill" />
        </view>
        <view class="myrecipes-card-cover myrecipes-card-cover-placeholder" wx:else>
          <text class="myrecipes-cover-emoji">🍳</text>
        </view>
        <view class="myrecipes-card-body">
          <view class="myrecipes-card-top-row">
            <text class="myrecipes-card-name">{{item.name}}</text>
            <view class="myrecipes-delete-btn" data-index="{{index}}" bindtap="onDeleteRecipe">
              <text class="myrecipes-delete-icon">×</text>
            </view>
          </view>
          <view class="myrecipes-card-meta">
            <text class="myrecipes-card-source" wx:if="{{item.sourcePlatform === 'screenshot'}}">截图导入</text>
            <text class="myrecipes-card-source" wx:elif="{{item.sourcePlatform === 'xiaohongshu' || item.sourcePlatform === '小红书'}}">小红书</text>
            <text class="myrecipes-card-source" wx:elif="{{item.sourcePlatform === 'douyin' || item.sourcePlatform === '抖音'}}">抖音</text>
            <text class="myrecipes-card-source" wx:elif="{{item.sourcePlatform}}">{{item.sourcePlatform}}</text>
            <text class="myrecipes-card-source" wx:elif="{{item.source === 'external'}}">外部导入</text>
          </view>
          <view class="myrecipes-card-actions">
            <view class="myrecipes-btn myrecipes-btn-primary" data-index="{{index}}" bindtap="onCookToday">今天做</view>
            <view class="myrecipes-btn myrecipes-btn-secondary" data-index="{{index}}" bindtap="onAddToMix">加入组餐</view>
          </view>
        </view>
      </view>
    </view>
  </view>
</view>

