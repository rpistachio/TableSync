<view class="home-container {{cookStatus === 'tired' ? 'mood-tired' : ''}}">
  <view class="brand-header">
    <view class="header-content">
      <text class="brand-watermark">TableSync</text>
    </view>
  </view>

  <view class="home-main">
    <view class="home-main-content">
      <!-- 今日氛围卡片（Phase 2 填充天气/问候） -->
      <view class="vibe-card">
        <text class="vibe-date">{{currentDate}}</text>
        <text class="vibe-greeting">{{vibeGreeting}}</text>
      </view>

      <!-- ===== Zen Mode: 一键定晚饭 ===== -->
      <view class="zen-panel" wx:if="{{!showAdvanced}}">
        <view class="zen-illustration" wx:if="{{illustrationUrl}}">
          <image src="{{illustrationUrl}}" mode="widthFix" class="zen-illo-img" />
        </view>
        <view class="zen-main-btn" bindtap="onZenGo">
          <text class="zen-main-btn-text">想想吃什么</text>
        </view>

        <view class="zen-status-cards">
          <text class="zen-status-label">今天状态</text>
          <view class="zen-status-row">
            <view class="status-card {{cookStatus === 'ok' ? 'is-active is-ok' : ''}}" data-value="ok" bindtap="onToggleCookStatus">
              <image wx:if="{{okIconUrl}}" class="status-card-icon" src="{{okIconUrl}}" mode="aspectFit" />
              <view wx:else class="status-card-icon-placeholder">☀️</view>
              <text class="status-card-label">还行</text>
            </view>
            <view class="status-card {{cookStatus === 'tired' ? 'is-active is-tired' : ''}}" data-value="tired" bindtap="onToggleCookStatus">
              <image wx:if="{{tiredIconUrl}}" class="status-card-icon" src="{{tiredIconUrl}}" mode="aspectFit" />
              <view wx:else class="status-card-icon-placeholder">🛋</view>
              <text class="status-card-label">疲惫</text>
            </view>
          </view>
        </view>
      </view>

  <!-- ===== 高级功能入口（默认隐藏） ===== -->
  <block wx:if="{{showAdvanced}}">
  <view class="zen-advanced-back" bindtap="onHideAdvanced">
    <text class="zen-advanced-back-icon">‹</text>
    <text class="zen-advanced-back-text">返回</text>
  </view>
  <!-- 导入赛博菜谱入口 -->
  <view class="feature-entry import-entry" bindtap="onGoImport">
    <view class="feature-icon-wrap import-icon-wrap">
      <text class="feature-icon">🔗</text>
    </view>
    <view class="feature-text-wrap">
      <text class="feature-title">导入菜谱</text>
      <text class="feature-desc">截图小红书/抖音菜谱，秒变可执行食谱</text>
    </view>
    <text class="feature-arrow">›</text>
  </view>

  <!-- 混合组餐入口 -->
  <view class="feature-entry mix-entry" bindtap="onGoMix">
    <view class="feature-icon-wrap mix-icon-wrap">
      <text class="feature-icon">🍳</text>
    </view>
    <view class="feature-text-wrap">
      <text class="feature-title">自选搭配</text>
      <text class="feature-desc">自由搭配内置 + 外部菜谱，一键统筹做饭</text>
    </view>
    <text class="feature-arrow">›</text>
  </view>

  <!-- 我的菜谱库入口 -->
  <view class="feature-entry myrecipes-entry" bindtap="onGoMyRecipes">
    <view class="feature-icon-wrap myrecipes-icon-wrap">
      <text class="feature-icon">📚</text>
    </view>
    <view class="feature-text-wrap">
      <text class="feature-title">我的菜谱库</text>
      <text class="feature-desc">过去做过的菜，今天继续做</text>
    </view>
    <text class="feature-arrow">›</text>
  </view>
  </block>

  <!-- 更多高级功能入口（Zen 模式下显示） -->
  <view class="zen-advanced-link" wx:if="{{!showAdvanced}}" bindtap="onShowAdvanced">
    <text>更多高级功能（导入）▾</text>
  </view>

  <!-- 品牌露出已移至顶部水印，底部空间留给烟火集 -->
  </view>
  </view>

  <!-- ===== 烟火集：底部居中横向书签入口 ===== -->
  <view class="collection-spine {{spineMode}} {{spineHighlight ? 'spine-highlight' : ''}}"
        bindtap="onGoCollection">
    <view class="spine-seal">
      <view class="spine-seal-icon">{{spineSealIcon}}</view>
      <view class="spine-glow-layer" wx:if="{{hasUnviewedCooks}}"></view>
    </view>
    <text class="spine-text">烟火集</text>
  </view>

  <sticker-drop
    visible="{{showStickerDrop}}"
    queue="{{stickerDropQueue}}"
    bindclose="onStickerDropClose"
  />

  <cooking-loading visible="{{showCookingLoading}}" />
</view>
